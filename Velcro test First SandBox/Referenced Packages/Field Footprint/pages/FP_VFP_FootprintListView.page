<apex:page standardStylesheets="false" controller="footprint.FP_VFC_FootprintListView" tabStyle="footprint__FootPrint__c" id="EntirePage" sidebar="false" action="{!initEndpoint}" >
    <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background-color: #F4F6F9" >
    <apex:form id="form1">
    <apex:stylesheet value="{!URLFOR($Resource.footprint__Dynamic_DataTable,'/Dynamic_DataTable/css/datatables.min.css')}" />
    <script type="text/javascript" src="{!URLFOR($Resource.Dynamic_DataTable,'/Dynamic_DataTable/js/datatables.min.js')}">
    </script> 
    <script type="text/javascript" src="{!URLFOR($Resource.multiselect)}">
    </script>    
    <script type="text/javascript" language="javascript" src="{!URLFOR($Resource.Dynamic_DataTable,'/Dynamic_DataTable/extensions/dataTables.colResize.js')}">
    </script>
    <script src="{!URLFOR($Resource.jquery_2_1_4_min_js)}">
    </script>
    <script src="{!URLFOR($Resource.jquery_ui)}">
    </script>
    <script>$j = jQuery.noConflict();
    </script>
    <script src="/soap/ajax/33.0/connection.js" type="text/javascript">
    </script>
    <script src="/soap/ajax/24.0/apex.js">
    </script>
    <apex:stylesheet value="{!URLFOR($Resource.footprint__SLDS203, '/assets/styles/salesforce-lightning-design-system.min.css')}" />
    <script type="text/javascript" src="https://bartaz.github.io/sandbox.js/jquery.highlight.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.12/features/searchHighlight/dataTables.searchHighlight.min.js"></script>
    <apex:stylesheet value="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css" />
    <style>
        select[name=example_length] {
          width: 111px;
          border-radius: 4px;
          box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.16);
          border: solid 0px #e0e5ee;
        }
        
        .dataTables_info{
            color:#54698d;
            } 
            .dataTables_length{
            color:#54698d;
            }
        .RateButton{
            position: fixed;
            bottom: 0px;
            left: 95%;
            margin-left: -55.5px; 
            border: 2px solid #ccc;
            font-weight: bold !important;
            }
         .RateModal{
            font-weight:normal;
            width: 23%;
            left:77%;
            font-family: 'Salesforce Sans',Arial,sans-serif !important;
            }
         ::-webkit-input-placeholder {
               color: lightgray;
            }
            .slds-modal__container {
            width: 50%;
            max-width: 40rem;
            min-width: 20rem;
            margin: 0px auto;
                } 
            :-moz-placeholder { /* Firefox 18- */
               color: lightgray;  
            }
            
            ::-moz-placeholder {  /* Firefox 19+ */
               color: lightgray;  
            }
            
            :-ms-input-placeholder {  
               color: lightgray;  
            }
            body button, body .x-btn, body .btn, body .btnDisabled, body .btnCancel, body .menuButton .menuButtonButton{
            font-weight:normal
            }
        
            .rate-modal__header {
            font-family: SalesforceSans;
            font-size: 13px;
            font-weight: normal;
            font-style: normal;
            font-stretch: normal;
            line-height: 1.62;
            text-align: left;
            color: #16325c;
            height: 47px;
            position: relative;
            border-top-right-radius: .25rem;
            border-top-left-radius: .25rem;
            border-bottom: 2px solid #d8dde6;
            padding: 0.7rem;
            text-align: left;
            background-color: #f4f6f9;
            box-shadow: 0px -3px 10px -1px rgba(0,0,0,.16);

             }
            @import url(//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css);
            
            fieldset, label { margin: 0; padding: 0; }
            body{ margin: 20px; }
            h1 { font-size: 1.5em; margin: 10px; }
            
            .DisabledElement{
            color:lightgray;
            pointer-events:none
            }
            
            .grayedOut{
            -webkit-filter: grayscale(100%);
            }
            
            
            /****** Style Star Rating Widget *****/
            
            .rating { 
            
              margin-left: -8px;
              border: none;
              float: left;
            }
            
            .rating > input { display: none; } 
            .rating > label:before { 
              margin: 5px;
              font-size: 1.95em;
              font-family: FontAwesome;
              display: inline-block;
              content: "★";
            }
            
            .rating > label { 
              color: #ddd; 
             float: right; 
            }
            
            /***** CSS Magic to Highlight Stars on Hover *****/
            
            .rating > input:checked ~ label, /* show gold star when clicked */
            .rating:not(:checked) > label:hover, /* hover current star */
            .rating:not(:checked) > label:hover ~ label { color: #FFD700;  } /* hover previous stars in list */
            
            .rating > input:checked + label:hover, /* hover current star when changing rating */
            .rating > input:checked ~ label:hover,
            .rating > label:hover ~ input:checked ~ label, /* lighten current selection */
            .rating > input:checked ~ label:hover ~ label { color: #FFED85;  } 
            
           .slds-form-element__label {
                color: #54698d;
                font-size: 0.88rem;
            }
            .On-the-scale-of-15 {
              font-size: 15px;
              font-weight: normal;
              font-style: normal;
              font-stretch: normal;
              line-height: 1.4;
              text-align: left;
              color: #16325c;
            }
            
            
            /****** Style Star Rating Widget *****/
            
            .rating2 { 
            
              margin-left: -8px;
              border: none;
              float: left;
            }
            
            .rating2 > input { display: none; } 
            .rating2 > label:before { 
              margin: 5px;
              font-size: 1.95em;
              font-family: FontAwesome;
              display: inline-block;
              content: "★";
            }
            
            .rating2 > label { 
              color: #ddd; 
             float: right; 
            }
            
            /***** CSS Magic to Highlight Stars on Hover *****/
            
            .rating2 > input:checked ~ label, /* show gold star when clicked */
            .rating2:not(:checked) > label:hover, /* hover current star */
            .rating2:not(:checked) > label:hover ~ label { color: #FFD700;  } /* hover previous stars in list */
            
            .rating2 > input:checked + label:hover, /* hover current star when changing rating */
            .rating2 > input:checked ~ label:hover,
            .rating2 > label:hover ~ input:checked ~ label, /* lighten current selection */
            .rating2 > input:checked ~ label:hover ~ label { color: #FFED85;  } 
            
            /****** Style Star Rating Widget *****/
            
            .rating3 { 
            
             margin-left: -8px;
              border: none;
              float: left;
            }
            
            .rating3 > input { display: none; } 
            .rating3 > label:before { 
              margin: 5px;
              font-size: 1.95em;
              font-family: FontAwesome;
              display: inline-block;
              content: "★";
            }
            
            .rating3 > label { 
              color: #ddd; 
             float: right; 
            }
            
            /***** CSS Magic to Highlight Stars on Hover *****/
            
            .rating3 > input:checked ~ label, /* show gold star when clicked */
            .rating3:not(:checked) > label:hover, /* hover current star */
            .rating3:not(:checked) > label:hover ~ label { color: #FFD700;  } /* hover previous stars in list */
            
            .rating3 > input:checked + label:hover, /* hover current star when changing rating */
            .rating3 > input:checked ~ label:hover,
            .rating3 > label:hover ~ input:checked ~ label, /* lighten current selection */
            .rating3 > input:checked ~ label:hover ~ label { color: #FFED85;  } 
            
        
        
        .slds-table--bordered:not(.slds-no-row-hover) tbody tr:hover>td:not(.slds-is-selected), .slds-table--bordered:not(.slds-no-row-hover) tbody tr:hover>th:not(.slds-is-selected) {
            box-shadow: none;
        }
        ::-webkit-input-placeholder {
           color: lightgray;
        }
        
        :-moz-placeholder { /* Firefox 18- */
           color: lightgray;  
        }
        
        ::-moz-placeholder {  /* Firefox 19+ */
           color: lightgray;  
        }
        
        :-ms-input-placeholder {  
           color: lightgray;  
        }
        body button, body .x-btn, body .btn, body .btnDisabled, body .btnCancel, body .menuButton .menuButtonButton{
        font-weight:normal
        }
    .paginate_button {
        color: #0070d2;;
        font-size: 18px;
        border: 1px solid #d8dde6;
        border-radius: .25rem;
        padding: .43rem;
        padding-left: 0.7rem;
        padding-right: 0.7rem;
        margin-right: 4px;
    }
    .first {
        color: #0070d2;;
        font-size: 18px;
        border:none;
        padding: .43rem;
    }
    .last {
        color: #0070d2;;
        font-size: 18px;
        border:none;    
        padding: .43rem;
    }
    div.dataTables_wrapper div.dataTables_length select {
    background-color: #fff;
    color: #16325c;
    border: 1px solid #d8dde6;
    border-radius: .25rem;
    width: 77px;
    transition: border .1s linear,background-color .1s linear;
    resize: vertical;
    padding: .5rem .75rem;
    }
    input[type=search] {
    background-color: #fff;
    color: #16325c;
    border: 1px solid #d8dde6;
    border-radius: .25rem;
    width: 200px;
    transition: border .1s linear,background-color .1s linear;
    resize: vertical;
    padding: .5rem .75rem;
    }
    phHeaderLogoImage{
     width:128px;  
       }
      .pp-pencil-child
      {
      opacity:0.3;
      
      }
        .not-active {
           pointer-events: none;
           color: gray;
        }
        body {
    color: rgb(84, 105, 141);
        }
        .glyphicon:hover {
         color:rgb(0, 112, 210);
        
        }
        html body.sfdcBody {
            font-family: 'Salesforce Sans',Arial,sans-serif !important;
            color: #3c3d3e;
            background: none transparent;
            margin: 0;
            padding: 10px 0px 0 0px; 
            height: 100%;
            overflow: initial !important;
            -webkit-overflow-scrolling: touch;
            }
        .triggerLinkText {
            font-weight: 00;
            font-size: 1.25rem;
            color: rgb(22, 50, 92);
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            width: 100%;
            display: inline-block;
        }
        .ffp-filterLogicOptions{
         display : none;
          
        }
        .row {
    margin-right: 60px;
    margin-left: 60px;
}
        button.selected {
    background: rgb(0, 112, 210);
    border-color: rgb(0, 112, 210);
        color:white;
    }
    
    .ffp-filtermissed{
    color: rgb(194, 57, 52);
    line-height: 1.5;
    font-size: .75rem;
    font-weight: 400;        
    }
        .slds-checkbox--toggle [type=checkbox]:checked~.slds-checkbox--faux:hover {
    background-color: #0070d2;
}
        html {
    font-family: 'Salesforce Sans',Arial,sans-serif;
        line-height: 1.5;
        }
    .onoffswitch {
        position: relative; width: 59px;
        -webkit-user-select:none; -moz-user-select:none; -ms-user-select: none;
    }
    .onoffswitch-checkbox {
        display: none;
    }
    .onoffswitch-label {
        display: block; overflow: hidden; cursor: pointer;
        border: 2px solid #FFFFF; border-radius: 31px;
    }
    .onoffswitch-inner {
        display: block; width: 200%; margin-left: -100%;
        transition: margin 0.3s ease-in 0s;
    }
    .onoffswitch-inner:before, .onoffswitch-inner:after {
        display: block; float: left; width: 50%; height: 23px; padding: 0; line-height: 23px;
        font-size: 12px; color: white; font-family: Trebuchet, Arial, sans-serif; font-weight: bold;
        box-sizing: border-box;
    }
    .onoffswitch-inner:before {
        content: "ON";
        padding-left: 8px;
        background-color: #0070D2; color: #FFFFFF;
    }
    .onoffswitch-inner:after {
        content: "OFF";
        padding-right: 8px;
        background-color: #999999; color: #EEEEEE;
        text-align: right;
    }
    .onoffswitch-switch {
        display: block; width: 20px; margin: 2.5px;
        background: #FFFFFF;
        position: absolute; top: 0; bottom: 0;
        right: 32px;
        border: 2px solid #FFFFF; border-radius: 31px;
        transition: all 0.3s ease-in 0s; 
    }
    .onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-inner {
        margin-left: 0;
    }
    .onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-switch {
        right: 0px; 
    }
    table.dataTable span.highlight {
        background-color: #FFFF88;
    }
    .filterPanel{
        /*width: 30%;
        margin-top: 3.1em;
        border-radius: 0rem;
        z-index: 7000;*/
    }
    .dropdownDiv {
         margin-top: 3.1em;
         width: 15%;
         border-radius: 0rem;
         
    }
    .popoverPanel{
        left: 78%;
        margin-top: 67px;
    }
   .slds-checkbox .slds-form-element__label {
        display: inline;
        vertical-align: middle;
        font-size: 0.7rem;
    }
     #example_filter .form-control{
        background-image: url('data:image/svg+xml;utf8,<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" id="spyglass" viewBox="0 0 22 22" height="22" width="22"><path d="m 10.011718,5.0898489 c -2.7000005,0 -4.9003915,2.2004 -4.9003915,4.9003996 0,2.6999995 2.200391,4.8983995 4.9003915,4.8983995 1.154374,0 2.204251,-0.4184 3.042969,-1.0898 l 3.207031,3.1113 0.626953,-0.6465 -3.185547,-3.0879 c 0.743242,-0.8594 1.208984,-1.964 1.208984,-3.1854995 0,-2.6999996 -2.20039,-4.9003996 -4.90039,-4.9003996 z m 0,1 c 2.2,0 3.90039,1.7004 3.90039,3.9003996 0,2.1999995 -1.70039,3.8983995 -3.90039,3.8983995 -2.2000005,0 -3.9003915,-1.6984 -3.9003915,-3.8983995 0,-2.1999996 1.700391,-3.9003996 3.9003915,-3.9003996 z" style="fill:#808080"/></svg>');
        background-repeat: no-repeat;
        background-color: #fff;
        background-position: 13px 3px !important;
        padding: .5rem 2rem .5rem 55px;
        border: 1px solid #d8dde6;
    }
    .top {
        display: -webkit-box;
        float: right;
   //     margin-right: -9px;
        margin-right: 1%;
            margin-bottom: 7px;
    }

    .dataTables_info {
        margin-right: 5px;
        margin-left: 5px;
    }
    .slds-form-element {
        position: relative;
        padding-top: 5%;
    }
    .slds-type-focus:hover {
    border-bottom: 1px solid transparent;
    }
    .slds-pill+.slds-pill {
        margin: 0.1rem; 
    }
    .fieldLabel {
    color: rgb(84, 105, 141);
    font-weight: 400;
    font-size: .75rem;
    line-height: 1.5;
    }
       .bodyTitle, .forceFilterPanel .lockedFieldCriteriaLabel {
    color: rgb(84, 105, 141);
    font-weight: 400;
    font-size: .8125rem;
    line-height: 1.5;
    padding-bottom: .5rem;
    }
     .forceFilterPanelFilterCriterion .wrapper:hover, .forceFilterPanelFilterCriterion .isLocked {
        background-color: rgb(244, 246, 249);
    }
    .forceFilterPanelFilterCriterion .hasBeenEdited {
        background-color: rgb(250, 255, 189);
    }
    .forceFilterPanelFilterCriterion .wrapper {
        border: rgb(216, 221, 230) 1px solid;
        border-radius: .25rem;
        padding: .75rem;
    } 
    table.dataTable thead .sorting_asc:after {
    content:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgdmlld0JveD0iMCAwIDUyIDUyIj48cGF0aCBmaWxsPSIjMDA3MEQyIiBkPSJtNDEuNCAyMWMwLjgtMC44IDAuOC0xLjkgMC0yLjdsLTE1LTE0LjdjLTAuOC0wLjgtMi0wLjgtMi44IDBsLTE1IDE0LjdjLTAuOCAwLjgtMC44IDEuOSAwIDIuN2wyLjggMi43YzAuOCAwLjggMiAwLjggMi44IDBsNC43LTQuNmMwLjgtMC44IDIuMi0wLjIgMi4yIDAuOXYyN2MwIDEgMC45IDIgMiAyaDRjMS4xIDAgMi0xLjEgMi0ydi0yN2MwLTEuMiAxLjQtMS43IDIuMi0wLjlsNC43IDQuNmMwLjggMC44IDIgMC44IDIuOCAwbDIuNi0yLjd6Ij48L3BhdGg+PC9zdmc+");
    transform:scale(.23);
    }
    .sorting_asc:after, table.dataTable thead .sorting_desc:after, table.dataTable thead .sorting_asc_disabled:after, table.dataTable thead .sorting_desc_disabled:after {
    position: absolute;
    bottom: 0px;
    top: 0px;
    display: block;
    font-family: 'Glyphicons Halflings';
}
      table.dataTable thead .sorting:after, table.dataTable thead .sorting_asc:after, table.dataTable thead .sorting_desc:after, table.dataTable thead .sorting_asc_disabled:after, table.dataTable thead .sorting_desc_disabled:after {
    position: absolute;
 
    display: block;
    font-family: 'Glyphicons Halflings';
        opacity:1;
}  
 
        .sorting_asc{
        color: rgb(0, 112, 210);
        background-color:#F4F6F9;
        }
        .sorting_desc{
        color: rgb(0, 112, 210);
        background-color:#F4F6F9;
        }
       .popoverNewFilter{
         left: -171px;
          z-index: 99 !important;
        position: absolute;
    }
    .ShowMePopover{
        position:absolute;
        z-index:999;
        left: 73%;
        top: 338px;
    }  
    table.dataTable thead .sorting_desc:after {
        content:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc1MicgaGVpZ2h0PSc1Micgdmlld0JveD0nMCAwIDUyIDUyJz48cGF0aCBmaWxsPScjMDA3MEQyJyBkPSdtOS42IDMxYy0wLjggMC44LTAuOCAxLjkgMCAyLjdsMTUgMTQuN2MwLjggMC44IDIgMC44IDIuOCAwbDE1LjEtMTQuN2MwLjgtMC44IDAuOC0xLjkgMC0yLjdsLTIuOC0yLjdjLTAuOC0wLjgtMi0wLjgtMi44IDBsLTQuNyA0LjZjLTAuOCAwLjgtMi4yIDAuMy0yLjItMC45di0yN2MwLTEtMC45LTItMi0yaC00Yy0xLjEgMC0yIDEuMS0yIDJ2MjdjMCAxLjItMS40IDEuNy0yLjIgMC45bC00LjctNC42Yy0wLjgtMC44LTItMC44LTIuOCAwbC0yLjcgMi43eic+PC9wYXRoPjwvc3ZnPg==");
        transform: scale(.23);
        }
    
    table.dataTable thead .sorting:hover:after {
        content:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgdmlld0JveD0iMCAwIDUyIDUyIj48cGF0aCBmaWxsPSIjNTQ2OThEIiBkPSJtNDEuNCAyMWMwLjgtMC44IDAuOC0xLjkgMC0yLjdsLTE1LTE0LjdjLTAuOC0wLjgtMi0wLjgtMi44IDBsLTE1IDE0LjdjLTAuOCAwLjgtMC44IDEuOSAwIDIuN2wyLjggMi43YzAuOCAwLjggMiAwLjggMi44IDBsNC43LTQuNmMwLjgtMC44IDIuMi0wLjIgMi4yIDAuOXYyN2MwIDEgMC45IDIgMiAyaDRjMS4xIDAgMi0xLjEgMi0ydi0yN2MwLTEuMiAxLjQtMS43IDIuMi0wLjlsNC43IDQuNmMwLjggMC44IDIgMC44IDIuOCAwbDIuNi0yLjd6Ij48L3BhdGg+PC9zdmc+");
        transform: scale(.23);
        bottom: 6px;
        top: 0px;
        }
        table.dataTable thead .sorting:after {
        content:""
        }
        .releaseTitle:hover{
            color: rgb(0, 112, 210);
            border-bottom: 1px solid #005fb2;
        }
        .releaseTitle{
        color: rgb(22, 50, 92);
        font-weight: 400;
        font-size: 1.28rem;
        line-height: 1.25;
        }
        .slds-col--padded{
        padding:0;
        }
        h2 {
    color: rgb(22, 50, 92);
    font-weight: 300;
    font-size: 1rem;
    line-height: 1.875rem;
    height: 36px;
    }
        .uiInput--select.select:not([multiple]), .uiInput--select .select:not([multiple]), .uiInput--select .uiPopupTrigger a {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    padding: 0 14px;
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdÃ¯Â¿Â½w9IiM1NTY5OEQiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjIxIi8+DQogIDwvZz4NCjwvc3ZnPg0K);
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdÃ¯Â¿Â½w9IiM1NTY5OEQiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjIxIi8+DQogIDwvZz4NCjwvc3ZnPg0K),rgb(255, 255, 255);
    background-repeat: no-repeat;
    background-position: 97.5% 50%;
    background-size: .8125rem .8125rem,100% 100%;
}
.uiInput--select.select:not([multiple]), .uiInput--select .select:not([multiple]), .uiInput--select .uiPopupTrigger a {
    height: 1.875rem;
}
.uiInput--select.select, .uiInput--select .select, .uiInput--select .uiPopupTrigger a {
    background-color: rgb(255, 255, 255);
    color: rgb(22, 50, 92);
    border: 1px solid rgb(216, 221, 230);
    border-radius: .25rem;
    width: 100%;
    -webkit-transition: border .1s linear,background-color .1s linear;
    transition: border .1s linear,background-color .1s linear;
}
        .slds-dropdown {
    min-width: 25rem;
        }
    @-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }
    @-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }
    @keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }  
        #example_previous {
          width: 32px;
          height: 32px;
          border-radius: 4px;
          background-color: #ffffff;
          border: solid 1px #e1e6ef;
        }
        div.dataTables_wrapper div.dataTables_length label {
    margin-top: 7px;
        }
        .disabled{
        color:gray;pointer-events:none
        }
        </style>
    <apex:outputpanel id="jsForm">
        <script>
            function EnableDisableContactInfo(){
                //Disable
                if($('#checkbox-No').prop("checked")){
                    $("#ContactInfo").css("color","lightgray");
                    $("#NameAndCompany").css("color","lightgray");
                    $("#myAvatar").addClass("grayedOut");
                    }
                //Enable
                else{
                    $("#ContactInfo").css("color","#54698d"); 
                    $("#NameAndCompany").css("color","#0070d2");
                    $("#myAvatar").removeClass("grayedOut");   
                    }
                }
             function resetRateModal(){
                 $("#star1").prop("checked",false);
                 $("#star2").prop("checked",false);
                 $("#star3").prop("checked",false);
                 $("#star4").prop("checked",false);
                 $("#star5").prop("checked",false);
                 $("#star6").prop("checked",false);
                 $("#star7").prop("checked",false);
                 $("#star8").prop("checked",false);
                 $("#star9").prop("checked",false);
                 $("#star10").prop("checked",false);
                 $("#star11").prop("checked",false);
                 $("#star12").prop("checked",false);
                 $("#star13").prop("checked",false);
                 $("#star14").prop("checked",false);
                 $("#star15").prop("checked",false);
                 $('#checkbox-yes').prop("checked",true)
                 $("#ContactInfo").css("color","#54698d"); 
                 $("#NameAndCompany").css("color","#0070d2");
                 $("#myAvatar").removeClass("grayedOut");
                 $('#textarea-comments').val('');
                 
                 }
             function addFilterLogic(){
    var placeholder='';
    for(var i=1;i<filterNumber+1;i++){
        placeholder+=' '+i +' And';
    }
    placeholder=placeholder.substring(0,placeholder.length-3);
    $('#FilterLogicArea').attr('placeholder',placeholder);
 $('#FilterLogicArea').show();  
 $('.ffp-filterLogicOptions').show();
 $('#FilterLogicSection').hide(); 

}    
    function removeFilterLogic()
    {
    
    var filterNumber = 0;
    $('.sf-showHideContainer').hide();
    $('.sf-addFilterLogic').show();      
    $('.ffp-filterLogicOptions').hide();  
    
    $('.pillElement').each(function()
    {
         filterNumber++;
    });
    
    if(filterNumber>1)
    {
       $('#FilterLogicSection').show();
    }         

      
    }

             function CheckForm(){
                 var result=true;
                 //Checking fot value
                 if(!$("#star1").prop("checked") && !$("#star2").prop("checked") && !$("#star3").prop("checked") && !$("#star4").prop("checked") && !$("#star5").prop("checked")){
                     $("#GeneralError").html("<div id='GeneralError' style='font-weight:normal;color:#c23934'>Feedback could not be submitted. <br/> Please complete the feedback below.</div>");
                     $("#ValueError").text("Rate the value this app provides");
                     result=false;
                     }
                 if(!$("#star6").prop("checked") && !$("#star7").prop("checked") && !$("#star8").prop("checked") && !$("#star9").prop("checked") && !$("#star10").prop("checked")){
                     $("#GeneralError").html("<div id='GeneralError' style='font-weight:normal;color:#c23934'>Feedback could not be submitted. <br/> Please complete the feedback below.</div>");
                     $("#InstallationError").text("Rate the ease of installation");
                     result=false;
                     }
                 if(!$("#star11").prop("checked") && !$("#star12").prop("checked") && !$("#star13").prop("checked") && !$("#star15").prop("checked") && !$("#star14").prop("checked")){
                     $("#GeneralError").html("<div id='GeneralError' style='font-weight:normal;color:#c23934'>Feedback could not be submitted. <br/> Please complete the feedback below.</div>");
                     $("#DocumentationError").text("Rate the documentation");
                     $("#FeedbackCom").css("margin-top","10px");
                     result=false;
                     }
                 return result;
                 }
            function removeAllErrors(){
              $("#FeedbackCom").css("margin-top","49px");
              $("#GeneralError").text("");
              $("#DocumentationError").text(""); 
              $("#InstallationError").text("");
              $("#ValueError").text("");
                }
            function SubmitForm(){
                var Value="0"; 
                var Installation="0";
                var Documentation="0";
                if(CheckForm()){
                    //Get Value
                    if($("#star5").prop("checked")){
                        Value="5";
                        }
                    else if($("#star4").prop("checked")){
                        Value="4";
                        }
                    else if($("#star3").prop("checked")){
                        Value="3";
                        }
                    else if($("#star2").prop("checked")){
                        Value="2";
                        }
                   else  if($("#star1").prop("checked")){
                        Value="1";
                        }
                    //Installation
                    if($("#star10").prop("checked")){
                        Installation="5";
                        }
                    else if($("#star9").prop("checked")){
                        Installation="4";
                        }
                    else if($("#star8").prop("checked")){
                        Installation="3";
                        }
                    else if($("#star7").prop("checked")){
                        Installation="2";
                        }
                   else  if($("#star6").prop("checked")){
                        Installation="1";
                        }
                    //Documentation
                    if($("#star15").prop("checked")){
                        Documentation="5";
                        }
                    else if($("#star14").prop("checked")){
                        Documentation="4";
                        }
                    else if($("#star13").prop("checked")){
                        Documentation="3";
                        }
                    else if($("#star12").prop("checked")){
                        Documentation="2";
                        }
                   else  if($("#star11").prop("checked")){
                        Documentation="1";
                        }
                    SubmitTheForm(Value,Documentation,Installation,$('#textarea-comments').val(),$('#checkbox-No').prop("checked"));
                    }
                }
         function AdjustNumberofResults(){
    
       var myFilteredRows = $('#example').DataTable().$('tr', {"filter":"applied"});
             
              $('.sf-sizeTable').text(myFilteredRows.length); 
              
        }
    var titleRel; 
    function showOppmodal(){
        $('#errorMessageName').text('');
        document.getElementById('modaldialog').style.display='block'; 
        document.getElementById('ContentPanel').style.display='block';
        
    }
    function hideModal(){
         document.getElementById('modaldialog').style.display='None';       
    }
 function ChangeLength(a){
   
    $('.check').hide();
    document.getElementById('Check'+a).style.display='inline';
            $('#example').DataTable().page.len(a).draw();
            }
            
            

        $(document).ready(function() {
  

          
        
        
            $('.bBody').append('<b>Teeest</b>');
            //if we click on Minus (-)    The Min Value
        $( "#fp-min-left" ).click(function() {
             $('#fp-min-left').css('color','blue');
             $('#fp-max-left').css('color','blue');
            
            if((parseInt($('#fp-min-value').text().replace('%','')))>0)
            {
               $('#fp-min-value').text((parseInt($('#fp-min-value').text().replace('%',''))-5)+'%');
              //The new Value is 5 and we clicked on less
            }
            if(parseInt($('#fp-max-value').text().replace('%',''))-parseInt($('#fp-min-value').text().replace('%',''))!=5){
                   $('#fp-max-left').css('color','blue');
                    $('#fp-min-right').css('color','blue');
             }
            if($('#fp-min-value').text().replace('%','')=='0'){
                   $('#fp-min-left').css('color','gray');
            }
            
         });
            //if we click on plus (+)     The Min Value
        $( "#fp-max-left" ).click(function() {
            $('#fp-max-left').css('color','blue');
            $('#fp-min-left').css('color','blue');
            if((parseInt($('#fp-min-value').text().replace('%','')))<100 && (parseInt($('#fp-min-value').text().replace('%','')))<(parseInt($('#fp-max-value').text().replace('%','')) - 5) )
            {                  
                

               $('#fp-min-value').text((parseInt($('#fp-min-value').text().replace('%',''))+5)+'%');
                
                
            }
            if(parseInt($('#fp-max-value').text().replace('%',''))-parseInt($('#fp-min-value').text().replace('%',''))==5){
                   $('#fp-max-left').css('color','gray');
                    $('#fp-min-right').css('color','gray');
             }
            
            if($('#fp-min-value').text().replace('%','')=='95'){
                   $('#fp-max-left').css('color','gray');
             }
         });
      //if we click on Minus (-)     The Max Value

        $( "#fp-min-right" ).click(function() {
            $('#fp-min-right').css('color','blue'); 
                $('#fp-max-right').css('color','blue'); 
          
            if((parseInt($('#fp-max-value').text().replace('%','')))>0 && (parseInt($('#fp-min-value').text().replace('%','')))< (parseInt($('#fp-max-value').text().replace('%',''))-5))
            {
             $('#fp-max-value').text((parseInt($('#fp-max-value').text().replace('%',''))-5)+'%');
                
            }
            if($('#fp-max-value').text().replace('%','')=='5'){
                   $('#fp-min-right').css('color','gray');
                   }
            if(parseInt($('#fp-max-value').text().replace('%',''))-parseInt($('#fp-min-value').text().replace('%',''))==5){
                   $('#fp-max-left').css('color','gray');
                    $('#fp-min-right').css('color','gray');
             }
         });
        //if we click on plus (+)     The Max Value

        $( "#fp-max-right" ).click(function() {
            
            $('#fp-min-right').css('color','blue'); 
                $('#fp-max-right').css('color','blue'); 
            
            if((parseInt($('#fp-max-value').text().replace('%','')))<100)
            { 
              $('#fp-max-value').text((parseInt($('#fp-max-value').text().replace('%',''))+5)+'%');
                
            }
            if(parseInt($('#fp-max-value').text().replace('%',''))-parseInt($('#fp-min-value').text().replace('%',''))!=5){
                   $('#fp-max-left').css('color','blue');
                    $('#fp-min-right').css('color','blue');
             }
             if($('#fp-max-value').text().replace('%','')=='100'){
                   $('#fp-max-right').css('color','gray');
                   }
         });
        
        
            $('#phHeaderLogoImage').css('width','55px');
            $('#phHeaderLogoImage').css('max-width','none');
            
            $('.filterButton').prop('disabled', true);
            $('#multiselect').multiselect();
             $( '.releaseTitle' ).click(
            function(){
                $('.releaseMenu').slideDown(200);
            });
           $( '#settingsButton' ).hover(
            function(){
                $('.OptionMenu').slideDown(200);
            }
            );
        
        hideModal(); 
        

        
      
        if(titleRel == undefined) titleRel = "Footprint";
        var table = $('#example').DataTable({
            "searchHighlight": true,
            "order": [],
            "lengthMenu": [[10, 25, 50, 75, 100,250], [10, 25,50,75, 100,250]],
            "iDisplayLength": 50,
            "sDom": '<"top"flip>rt<"bottom"><"clear">',
            "dom": 'Zlfrtip',
            "colResize": {
                "rtl": true
            },
            "pagingType": "full",
            "language": {
                "info":           " _START_ - _END_ out of _TOTAL_",
                "lengthMenu": "Rows per page : _MENU_   ",
                "zeroRecords": "No items to display.",
                searchPlaceholder: "Search Footprint",
                search: "<i class='icon-search'></i>",
                "infoEmpty": "",
                "infoFiltered": "",
                "oPaginate": { 
                    "sFirst": false ,
                    "sLast": false,
                    "sNext": "<svg aria-hidden=\"true\" class=\"slds-button__icon  slds-no-flex\" ><use xlink:href=\"{!URLFOR($Resource.footprint__footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#chevronright')}\"></use> </svg>",
                    "sPrevious": "<svg aria-hidden=\"true\" class=\"slds-button__icon  slds-no-flex\"><use xlink:href=\"{!URLFOR($Resource.footprint__footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#chevronleft')}\"></use> </svg>" }
            }
                
      }); 
            var div='<div class="slds-dropdown-trigger slds-dropdown-trigger--click slds-is-open " style="width: 80px;margin-left: 10px;margin-right: 10px;" Onclick="if(document.getElementById(\'countList\').style.display==\'none\'){$(\'#countList\').show();}else {$(\'#countList\').hide();}"><span class="Lengthvalue">'+$("select[name=example_length]").val()+'</span>';
                div+='<svg aria-hidden="true" class="slds-button__icon slds-button__icon--small" >'+
                            '<use xlink:href="{!URLFOR($Resource.footprint__footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#down')}"></use>'+
                          '</svg>'; 
                div+='<div class="slds-dropdown slds-dropdown--left slds-dropdown--small " id="countList" style="min-width:80px;display:none"><ul class="slds-dropdown__list" role="menu">';
               
            $("select[name=example_length] option").each(function()
                { var x=$(this).val();
                    $(this).css('font-family ','Salesforce Sans", Arial, sans-serif;');
                    $(this).css('font-size','14px');
                    $(this).css('padding','1rem');
                    div+='<li class="slds-dropdown__item" role="presentation" onclick="ChangeLength('+$(this).val()+');$(\'.Lengthvalue\').text('+$(this).val()+')"><a href="javascript:void(0);" role="menuitem" tabindex="0" style="margin-left: -18px;">';
                    div+='<svg style="display:none" id="Check'+$(this).val()+'" aria-hidden="true" class="slds-button slds-button--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small check" >'+
                            '<use xlink:href="{!URLFOR($Resource.footprint__footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#check')}"></use>'+
                          '</svg>';
                    div+='<p style="margin-left: 20px;">'+$(this).val()+'</p>';
                    div+='</a></li>';
                });
            div+='</ul></div></div>';
            $("select[name=example_length]").parent().append(div);
            $("select[name=example_length]").remove();
      $('#example').DataTable().on( 'search.dt', function () {
     
          var myFilteredRows = table.$('tr', {"filter":"applied"});
          $('.itemsNumber').text(myFilteredRows.length);
          
          
          });
       $('#example').DataTable().on( 'order.dt search.dt', function () {
        $('#example').DataTable().column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
            cell.innerHTML = i+1;
        } );
      } ).draw();     
      $("#Precheck_not_available-gas" ).click(function() {
   
        if($(this).attr('checked') == true){
            $(".slds-popover__body input[type=checkbox]").each(function () {
                $(this).prop("checked", true);
            });
        }else{
             $(".slds-popover__body input[type=checkbox]").each(function () {
                $(this).prop("checked", false);
            });
        }
    });
     $("#newSearchPlace").empty();
     $("#newSearchPlace").html($(".dataTables_filter"));
     
     table.on( 'draw', function () {
        var body = $( table.table().body() );
    //    body.unhighlight();
    //    body.highlight( table.search() );  
        } );
    });
    </script>
        <script>
              (function( $ ) {
        
                    $.widget( 'slds.autocomplete', $.ui.autocomplete, {
        
                        _create: function() {
        
                            this._super();
        
                            this.sldsMenu = $('<div>')
                                                .addClass('slds-lookup__menu slds-hide')
                                                .attr('role', 'listbox')
        
                            this.element.parentsUntil('.slds-lookup').append( this.sldsMenu );
        
                            $('.ui-helper-hidden, .ui-helper-hidden-accessible').addClass('slds-hide');
        
                        },

                _renderMenu: function( ul, items ) {

                    var self = this;

                    ul.addClass('slds-lookup__list').attr('role', 'presentation');
                    ul.appendTo( this.sldsMenu );

                    this.sldsMenu.addClass('slds-show').removeClass('slds-hide');

                    $.each( items, function( index, item ) {
                        self._renderItemData( ul, item );
                    });

                },

                _renderItem: function( ul, item ) {
                        var a=item.label.substring(item.label.lastIndexOf("(")+1,item.label.lastIndexOf(")"));
                     var b=item.label.substring(0,item.label.lastIndexOf("("));
                    return $('<li>')
                        .addClass('slds-lookup__item')
                    .append( '<a href="#" class="slds-lookup__item-action slds-media slds-media--center" role="option" Onclick="Fill(\''+a+'\');" >' + b+ '  ('+a+')  </a>' )
                        .appendTo( ul );
                },

                _close: function( event ) {

                    this._super( event );

                    this.sldsMenu.addClass('slds-hide').removeClass('slds-show');

                }

            });

        })( jQuery );

        $j(function() {

            $j('#lookup-input').autocomplete({
                source: {!ObjectsList}
            });
        });

function hideAllColumns(){

    $('.filterButton').prop('disabled',false);
    if($('.releaseTitle').text()!='All footprints#All footprints;' && $('.releaseTitle').text()!='Recently Viewed#Recently Viewed;'){
   var headers = document.getElementsByName('DCol');
   var Data = document.getElementsByName('TCol');
    $('td[name=DCol]').hide();
    $('th[name=TCol]').hide();
    if('{!currentListView.footprint__Columns__c}'!=''){
        var tab='{!currentListView.footprint__Columns__c}';
        var table=tab.split(';;');
        var i=0;
        for (i = 0; i < table.length; i++) {
            $('.'+table[i]).show();
            }
        }
        }
    }
function ChangeListViewsColumns(){
    var columns='';
    var table=document.getElementById('multiselect_to').options;
    var i=0;
        for (i = 0; i < table.length; i++) {
            columns+=table[i].value+';;';
            }
    ChangeListColumns(columns);
    }
function filterClick(){
    var str=$('.releaseTitle').html();
    var tex=str.substring(str.lastIndexOf('#')+1,str.lastIndexOf(";"));
    if($('.releaseTitle').text()=='Recently Viewed' || tex=='Recently Viewed' ){
        
        
        }
    else {
        
    if($('.filterButton').hasClass('slds-is-selected')){
        $('.filterButton').removeClass('slds-is-selected');
        document.getElementById('ListViewFilters').style.display='none';
        }
    else {
         showCurrentListViewFilters();
        $('.filterButton').addClass('slds-is-selected');
        
        }
        }
        return false;
    }
function filterClick2(){
    /*var str=$('.releaseTitle').html();
    var tex=str.substring(str.lastIndexOf('#')+1,str.lastIndexOf(";"));
    if($('.releaseTitle').html()=='All footprints' || tex=='All footprints'){
        
        $('.filterButton').removeClass('slds-is-selected');
        }
    else {
         $('.filterButton').addClass('slds-is-selected');
        }*/
        return false;
    }        
function OpenListViewRenamingModal(){
     if($('.releaseTitle').text()!='Recently Viewed#Recently Viewed;' && $('.releaseTitle').text()!='Recently Viewed'){
    document.getElementById('ListViewRenamingModal').style.display='inline';
    document.getElementById('CurrentListViewName').value=$('.releaseTitle').text().substring(0,$('.releaseTitle').text().lastIndexOf('#'));
        }
    }
function CloseListViewRenamingModal(){
    document.getElementById('ListViewRenamingModal').style.display='none';
    }  
     var sharingVar= '{!currentListView.footprint__sharing__c}';  
   function SelectSharing(a){
       sharingVar=a;
       }
function OpenListViewSharingModal(){
     if($('.releaseTitle').text()!='Recently Viewed#Recently Viewed;' && $('.releaseTitle').text()!='Recently Viewed'){
    document.getElementById('ListViewSharingModal').style.display='inline';
     if(sharingVar=='true'){
    document.getElementById('sharingChange2').checked=true;
    document.getElementById('sharingChange1').checked=false;
        } 
    else {
    document.getElementById('sharingChange1').checked=true; 
    document.getElementById('sharingChange2').checked=false; 
        }
    document.getElementById('ListViewSharingModal').value=$('.releaseTitle').html();
    first=false;
         }
    }
function CloseListViewSharingModal(){
    document.getElementById('ListViewSharingModal').style.display='none';
    }  
  
function OpenListViewColumnsModal(){
     if($('.releaseTitle').text()!='Recently Viewed#Recently Viewed;' && $('.releaseTitle').text()!='Recently Viewed'){
   document.getElementById('ListViewColumnsModal').style.display='inline';
         }
    }
function CloseListViewColumnsModal(){
   document.getElementById('ListViewColumnsModal').style.display='none'
    } 
function OpenListViewCreationModal(){
    //if($('.releaseTitle').text()!='Recently Viewed#Recently Viewed;' && $('.releaseTitle').text()!='Recently Viewed'){
   document.getElementById('ListViewCreationModal').style.display='inline';
    //}
    }
function CloseListViewCreationModal(){
   document.getElementById('ListViewCreationModal').style.display='none';
    //$('.filterButton').removeClass('slds-is-selected');
    }        
function removeFilterLogicSection() {
 document.getElementById('add_filterLogic').style.display = 'inline';
 document.getElementById('FilterLogic').innerHTML = '<a id="add_filterLogic" Onclick=" showFilterLogicSection();" Class="slds-button" >Add Filter Logic</a>';
}

function checkfilterLogic()
{
   var firstCheck = false; 
   var numberOfFilters = 0;
   var currentFilledValues = [];
   var currentLogicValues = [];
   var filterLogicText ='';
   var allFilters = 0;
   filterLogicText = document.getElementById('textarea-input-01').value;
   var splitfilterLogicText=filterLogicText.split(' ');
   
   currentFilledValues.push('(');
   currentFilledValues.push(')');
   currentFilledValues.push('AND');
   currentFilledValues.push('OR');
   currentFilledValues.push(' ');
   
   $('.ffp-fieldName').each(function()
   {     
     allFilters ++;     
     if($(this).text().toUpperCase()=='NEW FILTER' || $(this).text().trim()=='' )
     {
       firstCheck = true;
     }
     else
     {
        numberOfFilters++;
        currentFilledValues.push(''+numberOfFilters+'');
        currentFilledValues.push('('+numberOfFilters+'');
        currentFilledValues.push(''+numberOfFilters+')');
      }
   } );
   
   if(firstCheck==false)
   {
     for(var index=0;index< splitfilterLogicText.length;index++)
     {
       currentLogicValues.push(''+(splitfilterLogicText[index].trim())+'');
       var valLogic = splitfilterLogicText[index].trim();
       if(valLogic!=null && valLogic!='')
       {
           if(firstCheck==false)
           {
              firstCheck = !(currentFilledValues.includes(valLogic));
              console.log('####  valLogic:'+valLogic+':');
              console.log('#### (currentFilledValues.includes(valLogic) '+(currentFilledValues.includes(valLogic)));
           }
       }
     }
   }   
   
    if(firstCheck==false)
    {
     for(var index=1;index<=numberOfFilters;index++)
     {
        if(firstCheck==false)
        {
          firstCheck = !((currentLogicValues.includes(''+index+'')) || (currentLogicValues.includes('('+index+'')) || (currentLogicValues.includes(''+index+')')));
        }
     }
    }
    console.log('#### numberOfFilters:'+numberOfFilters+':');
    console.log('#### firstCheckbefore '+firstCheck);
    console.log('#### numberOfFilters==1 '+(numberOfFilters ==1));
    if(numberOfFilters == 1 && allFilters==1)
    {
      firstCheck = false;
      filterLogicText = '1';
      $('#textarea-input-01').val('1');      
    }
    console.log('#### firstCheckAfter '+firstCheck);
    
    if(firstCheck==false)
    {
       checkLogicFilterRegex(filterLogicText);
    }
    
    
    if(firstCheck==true)
    {
      displayerrorFilter();
    }
    
    event.preventDefault(); 
//  return firstCheck;
}

function removeAllFilters() {
 document.getElementById('room_fileds').innerHTML = '';
 document.getElementById("myonoffswitch").checked = false;
 $('.ffp-filterLogicOptions').hide();
 $('#FilterLogicSection').hide();
 $('.ShowMePopover').hide();
 showFilters(false);
 $('#add_filterLogic').hide();

 
}
  
function displayerrorFilter()
{
  $('.ffp-filtermissed').css("display","inline");
}

function updateListViewIfFilterPass()
{
  var regexFilter = $('#logicFilterValidationRegex').text();
  console.log('#### regexFilter '+regexFilter);
  if(regexFilter=='true')
  {
    SaveThisListView();
  }
  else
  {
  $('.ffp-filtermissed').css("display","inline");
  }
}
  
        function DeleteListView(){
     if($('.releaseTitle').text()!='Recently Viewed#Recently Viewed;' && $('.releaseTitle').text()!='Recently Viewed'){
            var str=$('.releaseTitle').text();
            
            var tex=str.substring(str.lastIndexOf('#')+1,str.lastIndexOf(";"));
            
            ListViewDelete(tex);
                 }
            } 
        function SelectThisListView(){
            $('.not-active').removeClass('not-active');
            release=document.getElementById('ListViewName').value;
           $('.releaseTitle').html(document.getElementById('ListViewName').value+'<span style="display:none">#'+'{!currentListView.footprint__Name__c}'+';</span>');
              var myFilteredRows = $('#example').DataTable().$('tr', {"filter":"applied"});
             $('.itemsNumber').text(myFilteredRows.length);
             
            
            }
        function SelectThisListView2(){
           $('.releaseTitle').html(document.getElementById('CurrentListViewName').value+'<span style="display:none">#'+'{!currentListView.footprint__Name__c}'+';</span>');
            CloseListViewRenamingModal();
            }
        var filterNumber=0;
        var alreadyshown=false;
        
    function showListViewFilters(){
     if($('.releaseTitle').text()!='Recently Viewed#Recently Viewed;' && $('.releaseTitle').text()!='Recently Viewed'){
        if(!alreadyshown){
         var formula='{!currentListView.footprint__formula__c}';
             if(formula=='')
        {
        document.getElementById('ListViewFilters').style.display='inline';
        }
        else 
        {
        var j;
        var first=formula.split('//');
        for(j=0;j<first.length;j++){
         var size=first[j].split(';;').length/3;
         var i;
         for(i=0;i<size;i++){
         
         filterNumber++;
         document.getElementById('ListViewFilters').style.display='inline';
         document.getElementById('MatchingTitle').style.display='inline';
         var spanDiv ='<br/>'+
         '<div name="forceFilterPanelFilterCriterion" class="pillElement forceFilterPanelFilterCriterion"><span class="pillNumber" style="width:10%"></span><span class="slds-pill wrapper" style="width:100%">'+
         '<div class="slds-pill__label" >'+
                '<label class="fieldLabelOld" name="fieldLabel" id="fieldLabel'+filterNumber+'" for="text-input-01">'+first[j].split(';;')[0]+' </label><label style="display:none" name="HfieldLabel" id="HfieldLabel'+filterNumber+'"> '+first[j].split(';;')[0]+' </label> '+ 
         '<span class="fieldLabel operatorLabelOld" name="operatorLabel" id="operatorLabel'+filterNumber+'">'+first[j].split(';;')[1]+'</span>'+' <span name="valueLabel" id="valueLabel'+filterNumber+'" class="fieldLabel valueLabel">'+first[j].split(';;')[2]+'</span>'+
         '</div>'+
         '<button class="slds-button slds-button--icon slds-pill__remove" style="float:right" onclick="removefilter($(this))">'+
         ' <svg aria-hidden="true" class="slds-button__icon">'+
         '   <use xlink:href="{!URLFOR($Resource.footprint__footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>'+
         ' </svg>'+
         ' <span class="slds-assistive-text">Remove</span>'+
         '</button>'+
         '</span>'+
         '<div class="filterPopover" >'+
         '</div>'+
         '</div>';
         $('.pillContainer').append(spanDiv);
        }
        }
            }
         $('#saveCancel').css("display","inline");
        alreadyshown=true;
            }
        }
        }
        var shown=false;
        function showCurrentListViewFilters(){
            
//      var formula='{!currentListView.footprint__formula__c}';
        $('.pillContainer div').remove();
        var mapFields = '{!foorPrintLabelMap}';
        
        var formula=($('#ffp-currentListView').text().split('//'))[2];
        var logicFilter = ($('#ffp-currentListView').text().split('//'))[4];
        $('#textarea-input-01').val(logicFilter);
        $('.ffp-filterLogicOptions').show();
        $('#FilterLogicArea').show();
        
        if(formula=='')
        {
          document.getElementById('ListViewFilters').style.display='inline';
        }
        else 
        {
            document.getElementById('ListViewFilters').style.display='inline';
            document.getElementById('MatchingTitle').style.display='inline';
        if(!shown){
        var j;
        var first=formula.split('$$');
        for(j=0;j<first.length;j++){
        var size=first[j].split(';;').length/3;
        var i;
        for(i=0;i<size;i++){
         filterNumber++;
         var labelField=first[j].split(';;')[0].toUpperCase();
         
         <apex:repeat value="{!foorPrintLabelMap}" var="thekey">
          console.log('### thekey '+'{!thekey}');
          console.log('### labelField '+labelField);          
        if('{!thekey}'==labelField || '{!thekey}'=='FOOTPRINT__'+labelField)
         {
          labelField ='{!foorPrintLabelMap[thekey]}';
         }
         </apex:repeat>
         console.log('#### final labelField '+labelField);
         
         
         var spanDiv ='<br/>'+
         '<div name="forceFilterPanelFilterCriterion" class="pillElement forceFilterPanelFilterCriterion"><span class="pillNumber" style="width:10%"></span><span class="slds-pill wrapper hasBeenEdited" style="width:100%">'+
         '<div class="slds-pill__label" onclick="onClickFilters($(this).parent().parent(),'+(i+1)+');">'+
                '<label class="fieldLabel ffp-fieldName" name="fieldLabel" id="fieldLabel'+filterNumber+'" for="text-input-01">'+/*first[j].split(';;')[0]*/labelField+' </label><label style="display:none" name="HfieldLabel" id="HfieldLabel'+filterNumber+'"> '+first[j].split(';;')[0]+' </label> '+ 
         '<span class="" name="operatorLabel" id="operatorLabel'+filterNumber+'">'+first[j].split(';;')[1]+'</span>'+' <span name="valueLabel" id="valueLabel'+filterNumber+'" class="fieldLabel valueLabel">'+first[j].split(';;')[2]+'</span>'+
         '</div>'+
         '<button class="slds-button slds-button--icon slds-pill__remove" style="float:right" onclick="removefilter($(this))">'+
         ' <svg aria-hidden="true" class="slds-button__icon">'+
         '   <use xlink:href="{!URLFOR($Resource.footprint__footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>'+
         ' </svg>'+
         ' <span class="slds-assistive-text">Remove</span>'+
         '</button>'+
         '</span>'+
         '<div class="filterPopover" >'+
         '</div>'+
         '</div>';
         $('.pillContainer').append(spanDiv);
            shown=true;
        }
        }
            }
            }
        if(filterNumber>1)
        {
         $('#FilterLogicSection').show();         
        }       
         $('#saveCancel').css("display","inline");
        }
    function closeFilterPanel()
    {
       document.getElementById('ListViewFilters').style.display='none';
    }    
    function selectRelease(a, b,c) {
        closeFilterPanel();
        $('.filterPanel').addClass('invisible');
        $('.popoverPanel').removeClass('invisible');
        $('.popoverPanel').addClass('invisible');
        $('.releaseMenu').find('.slds-dropdown__item').each(function () {
             console.dir('AES ########'); 
            $(this).css("background-color", "white");
            $(this).removeClass('slds-is-selected');
        });
        $(a).css("background-color", "#F4F6F9");
        $(a).addClass('slds-is-selected');
        release = c;
        if(b == 'Recently Viewed'){
             ChangeView('Recently Viewed');
             $('.divReleases').html('Recently Viewed');
             $(".slds-popover__body input[type=checkbox]").each(function () {
                $(this).prop("checked", true);
            });
        }else{
            $('.filterButton').prop('disabled', false);
            //$('.filterButton').addClass('slds-is-selected');
            ChangeView(c);
        }
        $(".slds-popover__body input[type=checkbox]").each(function () {
               if($(this).val() == b){
                    $(this).prop("checked", true);
               }
        });
        $('.divReleases').html(b);
        $('.releaseTitle').html(b+'<span id="ffp-currentLVName" style="display:none">#'+c+';</span>');  
        if(b!='Recently Viewed' ){
        $('.not-active').removeClass('not-active');
            }
        else {
          $('p[name=Links]').addClass('not-active');
            }
        titleRel = b;
    }
function showFilterLogicSection() {
 if($('#myonoffswitch').is( ":checked" ) )
 {
     document.getElementById('add_filterLogic').style.display = 'none';
     var container = document.getElementById('FilterLogic')
     var link = document.createElement("div");
     link.innerHTML += '<a id="remove_filterLogic" onclick="removeFilterLogicSection();return false;" Class="slds-button " >Remove</a>' +
      '<div class="slds-form-element" id="filterLogicSection">' +
      '<div class="slds-popover slds-popover--tooltip slds-nubbin--bottom-left" id="tooltip" role="tooltip" style="display:none;z-index:99;bottom: 100%;left:10%;position:absolute">' +
      '<div class="slds-popover__body">' +
      '<p>Filter Logic governs how and when filters apply. Use AND and OR operators to fine tune your results.</p>' +
      '</div>' +
      '</div>' +
      '<label class="slds-form-element__label" for="FilterLogicTextArea">Filter Logic</label>' +
    
      '<span class="infoicon slds-icon_container" title="description of icon when needed" onmouseover=" document.getElementById(\'tooltip\').style.display=\'block\'; " onmouseout=" document.getElementById(\'tooltip\').style.display=\'none\'; ">' +
      '<svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default">' +
      '<use xlink:href="{!URLFOR($Resource.footprint__footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#info')}"></use>' +
      '</svg>' +
      '<span class="slds-assistive-text">Description of icon</span>' +
      '</span></div>' +
      '<div class="slds-form-element__control" id="textAreaFilter">' +
      '<input id="FilterLogicTextArea" class="slds-textarea" placeholder="1 AND 2"/>' +
      '</div>';
      
     container.appendChild(link);
     $('#FilterLogicTextArea').val('1 AND 2');
    
 }
}
var room = 1;
var showedFilter = false;
var FieldList;

function FillFields() {
    
 FieldList = document.getElementById('FieldsMap').innerHTML;
 document.getElementById("myonoffswitch").checked = false;
}

function add_fields() {
 document.getElementById('remove_filters').style.display = 'inline';
 room++;
 if (room == 2) {
  var container = document.getElementById('FilterLogic')
  var link = document.createElement("div");
  link.innerHTML = '<a id="add_filterLogic" Onclick="showFilterLogicSection();" Class="slds-button" >Add Filter Logic</a>';
  container.appendChild(link);
 }
 var objTo = document.getElementById('room_fileds')
 var divtest = document.createElement("div");
 divtest.innerHTML = '<div class="slds-form-element" style="width: 28%; margin-right: 15px;">' +
  '<label class="slds-form-element__label fp-filterFields" name="Label" for="Field">{!$Label.footprint__fp_field}</label><br/>' +
  '<div class="slds-form-element__control">' +
  ' <select name="Field" class="slds-input slds-show" style="width: 100%;">' + FieldList +
  '</select>' +
  '</div>' +
  ' </div>' +
  '       <div class="slds-form-element" style="width: 28%; margin-right: 22px;">' +
  ' <label class="slds-form-element__label" name="Label" for="Operator">{!$Label.footprint__fp_operator}</label><br/>' +
  '<div class="slds-form-element__control" >' +
  ' <select name="Operator" class="slds-input slds-show" style="width: 100%;">' +
  '<option value="=">Equal</option>' +
  '<option value="!=">Not Equal</option>' +
  '<option value="<">Less than</option>' +
  '<option value="<=">Less or equal</option>' +
  '<option value=">">Greater than</option>' +
  '<option value=">=">Greater or equal</option>' +
  '                              </select>' +
  '</div>' +
  '</div> ' +
  '<div class="slds-form-element" style="width: 28%; margin-right: 22px;">' +
  ' <label class="slds-form-element__label" name="Label" for="Value">{!$Label.footprint__fp_value}</label><br/>' +
  '<div class="slds-form-element__control">' +
  '   <input type="text" class="slds-input" id="ValueInput' + room + '" name="Value" style="width: 130%;"/>' +

  '</div>' +
  '</div>' + '<p id="errorMessagelookup' + room + '" style="color:red;"></p>';

 objTo.appendChild(divtest);
 CheckFiltersDisplayed();
 
}

function rotate() {
 document.getElementById('RefreshButton').style = '';
}

function putBack() {
 document.getElementById('RefreshButton').style = '-webkit-animation:spin 0.3s linear infinite; -moz-animation:spin 0.3s linear infinite; animation:spin 0.3s linear 1;';
 setTimeout(rotate, 2000);
// updateCurentNewListView();
 Update();
}
function updateCurentNewListView()
{
  
        $('.releaseMenu').find('.slds-dropdown__item').each(function () {
             console.dir('AES ########'); 
            $(this).css("background-color", "white");
            $(this).removeClass('slds-is-selected');
        });
   
   
   var ul = document.getElementById("ffp-listview-menu");
   var currentview = document.getElementById("ffp-currentListView").innerHTML;
   
   var currentviewName =currentview.split('//')[0];
   var currentviewLabel =currentview.split('//')[1];
   console.log('#### currentviewName '+currentviewName);
   console.log('#### currentviewLabel '+currentviewLabel);
   var li = document.createElement('li');
   li.className  = 'slds-dropdown__item slds-is-selected';
   li.name='releasesIcons';
   li.style ='margin-left:0px;background-color:#F4F6F9';
   li.onclick =function(){ selectRelease(this,currentviewLabel,currentviewName ); };
   var addedList ='';
   addedList = addedList+'<a name="links" role="menuitem">';
   addedList = addedList+'<p class="slds-truncate">';
   addedList = addedList+'<svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">;';
   addedList = addedList+'<use xlink:href="{!URLFOR($Resource.footprint__footprintAll,'/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#check')}"></use>';
   addedList = addedList+'</svg>'+currentviewLabel+'</p></a>';
   li.innerHTML =addedList;
   ul.appendChild(li);
   release = currentviewName ;
   $('.releaseTitle').text(currentviewLabel);
//   selectRelease(this,currentviewLabel,currentviewName );
}

function showFilters(a) {
 document.getElementById("errorMessagelookup").innerHTML = '';
 document.getElementById("errorMessageName").innerHTML = '';
 if (a && (document.getElementById('lookup-input').value == '' || !isValidObject())) {
  document.getElementById("errorMessagelookup").innerHTML = '{!$Label.footprint__fp_error_enter}';
  document.getElementById("myonoffswitch").checked = false;
 } else {

  if (a) { //if the toggle button is on
   var operators = document.getElementsByName('Operator');
   var i;
   for (i = 0; i < operators.length; i++) {
    operators[i].disabled = false;
   }
   var values = document.getElementsByName('Value');
   for (i = 0; i < values.length; i++) {
    values[i].disabled = false;
   }
   var fields = document.getElementsByName('Field');
   for (i = 0; i < fields.length; i++) {
    fields[i].disabled = false;
   }
   document.getElementById('more_filters').style = 'color: #0070D2';
   document.getElementById('remove_filters').style = 'color: #0070D2';
      if(document.getElementById('add_filterLogic')!=null)
   document.getElementById('add_filterLogic').style = 'color: #0070D2';

  } else {
      if(document.getElementById('add_filterLogic')!=null){
   removeFilterLogicSection();
      }
   var operators = document.getElementsByName('Operator');
   var i;
   for (i = 0; i < operators.length; i++) {
    operators[i].disabled = true;
   }
   var values = document.getElementsByName('Value');
   for (i = 0; i < values.length; i++) {
    values[i].disabled = true;
   }
   var fields = document.getElementsByName('Field');
   for (i = 0; i < fields.length; i++) {
    fields[i].disabled = true;
   }
   document.getElementById('more_filters').style = 'color:#999999';
   document.getElementById('remove_filters').style = 'color:#999999';
      if(document.getElementById('add_filterLogic')!=null)
   document.getElementById('add_filterLogic').style = 'color: #999999';
  }
 }
 
 CheckFiltersDisplayed();
}

function CheckFiltersDisplayed()
{
  var length = $('.fp-filterFields').length;
  
  if(length>1)
  {
     $('#add_filterLogic').show(); 
  }
  else
  {
    $('#add_filterLogic').hide();
  }

}


//This function is used to validate the filter logic field
//the validation crieteria is : Includes only and or + Includes only numbers (limited to the number of filters)
function ValidateFilterLogic() {
 document.getElementById('generalError').innerHTML = '';
 var Fields = document.getElementsByName("Field");
 
 if($('#add_filterLogic').is(":visible"))
 {
     if (Fields.length > 1 && (document.getElementById("FilterLogicTextArea") == null || document.getElementById("FilterLogicTextArea").value == '')) {
    
        document.getElementById('generalError').innerHTML = '<b>Error:</b> Please Fill the Filter Logic</div>';
      
      return false;
     
     } else {
    
      if (Fields.length == 1) {
       filterLogic = '1';
      } else {
       
       filterLogic = document.getElementById("FilterLogicTextArea").value;
      }
      filterLogic = filterLogic.replace('(', ' ( ');
      filterLogic = filterLogic.replace(')', ' ) ');
      filterLogic = filterLogic.replace(/\s+/g, ' ').trim();
      var tab = filterLogic.split(' ');
      var i;
      var list = [];
      for (i = 1; i < Fields.length + 1; i++) {
       list.push(i + '');
      }
      for (i = 0; i < tab.length; i++) {
       if (tab[i].toUpperCase() != 'AND' && tab[i].toUpperCase() != 'OR' && list.indexOf(tab[i]) == -1 && tab[i] != '(' && tab[i] != ')') {
        document.getElementById('generalError').innerHTML = '<b>Error:</b> Invalid filter logic </div>';
        return false;
       }
      }
     }
 }
 return true;
}

//Create the query from the filters and verify if its valid
function ValidateQuery() {
 var Fields = document.getElementsByName("Field");
 var Operators = document.getElementsByName("Operator");
 var Values = document.getElementsByName("Value");
 var array = [];
 var i;
 //constructing the conditions, each condition in a table col
 for (i = 0; i < Operators.length; i++) {
  var fieldName = Fields[i].value.split(';;')[0];
  var fieldType = Fields[i].value.split(';;')[1];
  if (fieldType == 'BOOLEAN' || fieldType == 'DOUBLE' || fieldType == 'DATETIME' || fieldType =='INTEGER' || fieldType =='CURRENCY') {
   array.push(fieldName + ' ' + Operators[i].value +' '+ Values[i].value + ' ');
  } else {
   array.push(fieldName + ' ' + Operators[i].value + ' \'' + Values[i].value + '\'');
  }
     
 
 }
 
   
 // constructing the query
 var filterLogic;
 if (document.getElementById("FilterLogicTextArea") == null) {
 
  if(Fields.length==1)
  {
    filterLogic = '1';
  }
  
  var lengthFields = Fields.length;
  if(Fields.length>1)
  {
  filterLogic = ''
     for(x=1  ;x<= lengthFields ; x++)
     {
      filterLogic =  filterLogic+x ;
      if(x<lengthFields)
      {
       filterLogic = filterLogic+' AND ';
      }
     } 
    
   
   
  }
 
 } else {
  filterLogic = document.getElementById("FilterLogicTextArea").value;
 }
 
 for (i = 1; i < Operators.length + 1; i++) {
 
  filterLogic = filterLogic.replace(i,' '+i+' ');
 }


 for (i = 1; i < Operators.length + 1; i++) {
  filterLogic = filterLogic.replace(' '+i+' ', ' '+array[i - 1]+' ');
 }
    query=filterLogic.replace( /\s\s+/g, ' ' );
    return filterLogic.replace( /\s\s+/g, ' ' );
}
//Test if the query is correct before saving it

function TestQuery() {
 try {
  sforce.connection.sessionId = "{!$Api.Session_ID}";
  var a=document.getElementById('lookup-input').value;
  a=a.substring(a.lastIndexOf("(")+1,a.lastIndexOf(")"));
  var ReferraAccepted = sforce.connection.query("SELECT id from  " + a + " where " + ValidateQuery() + " limit 1");
  return true;
 } catch (err) {

  document.getElementById('generalError').innerHTML = '<b>Error:</b> Invalid Query</div>';
  console.log('an error has occured' + err +'the query is SELECT id from '+a+' where '+ ValidateQuery());
  return false;
 }
}

function TestDateTime(date) {
 try {
  sforce.connection.sessionId = "{!$Api.Session_ID}";
  var a=document.getElementById('lookup-input').value;
  a=a.substring(a.lastIndexOf("(")+1,a.lastIndexOf(")"));
  var ReferraAccepted = sforce.connection.query("SELECT id from  footprint__c where Analysis_Date__c = " + date + " limit 1");
  return true;
 } catch (err) {
     console.log(err);
  return false;
 }
}
        
function removeerror(){
    document.getElementById("errorMessagelookup").innerHTML = '';
    document.getElementById("errorMessageName").innerHTML = '';
    }

// Verify if each filter is valid
//Validation crieteria is: types of field and value entered should match
function ValidateFilters() {
 var Fields = document.getElementsByName("Field");
 var Operators = document.getElementsByName("Operator");
 var Values = document.getElementsByName("Value");
 var array = [];
 var i;
 var reg = new RegExp("^[0-9]{2}[\/]{1}[0-9]{2}[\/]{1}[0-9]{4}$", "g");
 var regDateTime = new RegExp("[0-9]:[0-5][0-9]:[0-5][0-9]", "g");
 var result = true;
 for (i = 0; i < Operators.length; i++) {
  // if field type is boolean value must be either true or false
  //if field type is numeric value must be numeric
  var fieldName = Fields[i].value.split(';;')[0];
  var fieldType = Fields[i].value.split(';;')[1];

  if (fieldType == 'BOOLEAN' && Values[i].value != 'True' && Values[i].value != 'False' && Values[i].value != 'true' && Values[i].value != 'false') {
      
   var number = i + 1;
   var errorTag = "errorMessagelookup" + number;
   var inputTag = "ValueInput" + number;
   document.getElementById(inputTag).style = "outline: none;border-color: red;box-shadow: 0 0 10px red;"
   document.getElementById(errorTag).innerHTML = '{!$Label.footprint__fp_booleanerror}';
   result = false;
  } else if (fieldType == 'DOUBLE' && isNaN(Values[i].value)) {
   var number = i + 1;
   var inputTag = "ValueInput" + number;
   var errorTag = "errorMessagelookup" + number;
   document.getElementById(inputTag).style = "outline: none;border-color: red;box-shadow: 0 0 10px red;"
   document.getElementById(errorTag).innerHTML = '{!$Label.footprint__fp_numericerror}';
   result = false;
  } else if (fieldType == 'DATE' && !reg.test(Values[i].value)) {
   var number = i + 1;
   var mydate = Values[i].value.split(' ')[0];
   var myTime = Values[i].value.split(' ')[1];
   var inputTag = "ValueInput" + number;
   var errorTag = "errorMessagelookup" + number;
   document.getElementById(inputTag).style = "outline: none;border-color: red;box-shadow: 0 0 10px red;"
   document.getElementById(errorTag).innerHTML = '{!$Label.footprint__fp_dateerror}';
   result = false;
  } else if (fieldType == 'DATETIME') {
   var number = i + 1;
   if (new Date(Date.parse(Values[i].value)) == 'Invalid Date') {
    var inputTag = "ValueInput" + number;
    var errorTag = "errorMessagelookup" + number;
    document.getElementById(inputTag).style = "outline: none;border-color: red;box-shadow: 0 0 10px red;"
    document.getElementById(errorTag).innerHTML = '{!$Label.footprint__fp_datetimeerror}';
    result = false;
   }
  }
 }
 return result;
}
        

        
function getQuery() {
 var result = '';

 if (document.getElementById('generalError') != null) {
  document.getElementById('generalError').innerHTML = '';
  var Fields = document.getElementsByName("Field");
  var Operators = document.getElementsByName("Operator");
  var Values = document.getElementsByName("Value");
  if (Fields.length > 1 && document.getElementById("FilterLogicTextArea") == null) {
   document.getElementById('generalError').innerHTML = '<b>Error:</b> Please enter Filter Logic</div>';
   result = '';
  } else {
   var filterLogic;
   if (document.getElementById("FilterLogicTextArea") == null) {
    filterLogic = '1';
   } else {
    filterLogic = document.getElementById("FilterLogicTextArea").value;
    var tab = filterLogic.split(' ');
    var i;
    var list = [];
    for (i = 1; i < room + 1; i++) {
     list.push(i + '');
    }
    for (i = 0; i < tab.length; i++) {
     if (tab[i] != 'AND' && tab[i] != 'OR' && list.indexOf(tab[i]) == -1 && tab[i] != '(' && tab[i] != ')') {
      document.getElementById('generalError').innerHTML = '<b>Error:</b> Invalid filter logic </div>';
      break;
      result = '';
     }
    }
   }
   var array = [];
   var i;
   var reg = new RegExp("^[0-9]{2}[\/]{1}[0-9]{2}[\/]{1}[0-9]{4}$", "g");
   var regDateTime = new RegExp("[0-9]:[0-5][0-9]:[0-5][0-9]", "g");

   for (i = 0; i < Operators.length; i++) {
    // if field type is boolean value must be either true or false
    //if field type is numeric value must be numeric
    var fieldName = Fields[i].value.split(';;')[0];
    var fieldType = Fields[i].value.split(';;')[1];

    if (fieldType == 'BOOLEAN' && Values[i].value != 'True' && Values[i].value != 'False' && Values[i].value != 'true' && Values[i].value != 'false') {
     var number = i + 1;
     var errorTag = "errorMessagelookup" + number;
     document.getElementById(errorTag).innerHTML = '{!$Label.footprint__fp_booleanerror}';
     result = '';
    } else if (fieldType == 'DOUBLE' && isNaN(Values[i].value)) {
     var number = i + 1;
     var errorTag = "errorMessagelookup" + number;
     document.getElementById(errorTag).innerHTML = '{!$Label.footprint__fp_numericerror}';
     result = '';
    } else if (fieldType == 'DATE' && !reg.test(Values[i].value)) {
     var mydate = Values[i].value.split(' ')[0];
     var myTime = Values[i].value.split(' ')[1];
     var number = i + 1;
     var errorTag = "errorMessagelookup" + number;
     document.getElementById(errorTag).innerHTML = '{!$Label.footprint__fp_dateerror}';
     result = '';
    } else if (fieldType == 'DATETIME') {

     if (new Date(Date.parse(Values[i].value)) == 'Invalid Date') {
      var number = i + 1;
      var errorTag = "errorMessagelookup" + number;
      document.getElementById(errorTag).innerHTML = '{!$Label.footprint__fp_datetimeerror}';
      result = '';
     } else {
      array.push(Fields[i].value.split(';;')[0] + ' ' + Operators[i].value + Values[i].value + ' ');
     }
    } else {
     if (fieldType == 'BOOLEAN' || fieldType == 'DOUBLE' || fieldType == 'DATETIME') {
      array.push(Fields[i].value.split(';;')[0] + ' ' + Operators[i].value + Values[i].value + ' ');
     } else {
      array.push(Fields[i].value.split(';;')[0] + ' ' + Operators[i].value + '\'' + Values[i].value + '\'');
     }
    }
   }
   if (filterLogic != null) {

    for (i = 1; i < Operators.length + 1; i++) {
     filterLogic = filterLogic.replace(i, array[i - 1]);
    }
   }
   if (filterLogic == '' || filterLogic == null) {
    filterLogic = Fields[0].value.split(';;')[0] + Operators[0].value + Values[0].value;
   }
   try {
    sforce.connection.sessionId = "{!$Api.Session_ID}";
    var ReferraAccepted = sforce.connection.query("SELECT id from  " + document.getElementById('lookup-input').value + " where " + filterLogic + " limit 1");
    result = filterLogic;
   } catch (err) {

    document.getElementById('generalError').innerHTML = '<b>Error:</b> Invalid Query or filter logic </div>';
    console.log('an error has occured' + err);
    result = '';

   }
  }
 }
 return result;
}

function GetIEVersion() {
  var sAgent = window.navigator.userAgent;
  var Idx = sAgent.indexOf("MSIE");

  // If IE, return version number.
  if (Idx > 0) 
    return parseInt(sAgent.substring(Idx+ 5, sAgent.indexOf(".", Idx)));

  // If IE 11 then look for Updated user agent string.
  else if (!!navigator.userAgent.match(/Trident\/7\./)) 
    return 11;

  else
    return 0; //It is not IE
}


function isValidObject() {
 var array = {!ObjectsList};

if (GetIEVersion() > 0) 
{
    if (!(array.indexOf(document.getElementById('lookup-input').value)>=0)) 
    {
      document.getElementById("errorMessagelookup").innerHTML = '{!$Label.footprint__fp_invalidobject}';
      return false;
    }
}
else
{ 
 if (!array.includes(document.getElementById('lookup-input').value))
 {
    document.getElementById("errorMessagelookup").innerHTML = '{!$Label.footprint__fp_invalidobject}';
    return false;
 }
}   


/* if (!array.includes(document.getElementById('lookup-input').value)) {
  document.getElementById("errorMessagelookup").innerHTML = '{!$Label.footprint__fp_invalidobject}';
  return false;
 }
*/ 
 if($('#input-Name').val().trim()=='')
 {
  document.getElementById("errorMessageName").innerHTML = 'The name is required';
  return false;
 }
 return true;
}

        var query='';
function SaveFootprint() {
    var objectName=document.getElementById('lookup-input').value;
   
    var a=objectName.substring(objectName.lastIndexOf("(")+1,objectName.lastIndexOf(")"));
   
     
 if (isValidObject()) {
  if (document.getElementById("myonoffswitch").checked == false) {
   SaveFP(a, document.getElementById('input-Name').value, '',document.getElementById('checkbox-Email').checked,document.getElementById('checkbox-VR').checked,document.getElementById('checkbox-WR').checked,$('#fp-min-value').text().replace('%',''),$('#fp-max-value').text().replace('%',''),document.getElementById('checkbox-Reports').checked);
  } else {
   if (ValidateFilters() && ValidateFilterLogic() && TestQuery()) {
    SaveFP(a, document.getElementById('input-Name').value, ValidateQuery(),document.getElementById('checkbox-Email').checked,document.getElementById('checkbox-VR').checked,document.getElementById('checkbox-WR').checked,$('#fp-min-value').text().replace('%',''),$('#fp-max-value').text().replace('%',''),document.getElementById('checkbox-Reports').checked);
   }
  }
 }
}
var ObjectName;
var FootprintName;
var Formula;
function AnalysisOptions(){
    if(isValidObject())
    { 
    if (document.getElementById("myonoffswitch").checked == false) {
        document.getElementById('AnalysisModal').style.display='inline';
    document.getElementById('modaldialog').style.display='none';
     var ObjectName=document.getElementById('lookup-input').value;
    var FootprintName=document.getElementById('input-Name').value;
    var Formula='';
    var a=ObjectName.substring(ObjectName.lastIndexOf("(")+1,ObjectName.lastIndexOf(")"));
    document.getElementById('ContentPanel').style.display='none';
    document.getElementById('WarningPanel').style.display='none';
    document.getElementById('LoadingModalHeader').style.display='inline';
    document.getElementById('LoadingArea').style.display='inline';
    launch(a,FootprintName,Formula,document.getElementById('checkbox-Email').checked,document.getElementById('checkbox-WR').checked,document.getElementById('checkbox-VR').checked,$('#fp-min-value').text().replace('%',''),$('#fp-max-value').text().replace('%',''),document.getElementById('checkbox-Reports').checked);        
    }
    else {
        
       if (ValidateFilters() && ValidateFilterLogic() && TestQuery()) {
        document.getElementById('AnalysisModal').style.display='inline';
    document.getElementById('modaldialog').style.display='none';   
            var ObjectName=document.getElementById('lookup-input').value;
            var FootprintName=document.getElementById('input-Name').value;
            var Formula=ValidateQuery();
           $('#fp-checkStatus').show();
           
            var a=ObjectName.substring(ObjectName.lastIndexOf("(")+1,ObjectName.lastIndexOf(")"));
            document.getElementById('ContentPanel').style.display='none';
            document.getElementById('WarningPanel').style.display='none';
            document.getElementById('LoadingModalHeader').style.display='inline';
            document.getElementById('LoadingArea').style.display='inline';
            launch(a,FootprintName,Formula,document.getElementById('checkbox-Email').checked,document.getElementById('checkbox-WR').checked,document.getElementById('checkbox-VR').checked,$('#fp-min-value').text().replace('%',''),$('#fp-max-value').text().replace('%',''),document.getElementById('checkbox-Reports').checked);    
            }
        else {
            
            }
        }
       }   
       }
function SaveAndAnalyze() {
    /*if (isValidObject()) {
  if (document.getElementById("myonoffswitch").checked == false) {
   Saveanalyze(document.getElementById('lookup-input').value, document.getElementById('input-Name').value, '');
  } else {
   if (ValidateFilters() && ValidateFilterLogic() && TestQuery()) {
    console.log('Now saving ' + document.getElementById('lookup-input').value + '  ' + document.getElementById('input-Name').value + '  ' + ValidateQuery());
    Saveanalyze(document.getElementById('lookup-input').value, document.getElementById('input-Name').value, ValidateQuery());
   }
  }
 }*/
 if (isValidObject()) {
     
    if (document.getElementById("myonoffswitch").checked == false) {
     var ObjectName=document.getElementById('lookup-input').value;
    var FootprintName=document.getElementById('input-Name').value;
    var Formula='';
    }
    else {
        
       if (ValidateFilters() && ValidateFilterLogic() && TestQuery()) {
            var ObjectName=document.getElementById('lookup-input').value;
            var FootprintName=document.getElementById('input-Name').value;
            var Formula=ValidateQuery();
           }
        }
    
 }  
}
        var numSelectedOptions=0;
        var elements = [];
    function selectOption(a,b)
    {
        if (a.checked )
        {
            elements.push(b);
        }
        else {
           elements.indexOf(b);
        elements.splice(elements.indexOf(b),1); 
            }
        var i;
        var text='';
        for (i = 0; i < elements.length; i++) {
          text+=elements[i]+' and ';   
        }
        text = text.substring(0, text.length - 5);
        document.getElementById('WarningMessage').innerHTML='You have chosen to include '+text+' in your Analysis. Analysis may take some time to complete depending on data volume.';
        //a.style.border = "2px inset #0C8EFF";
        if(elements.length==0){
       document.getElementById('WarningPanel').style.display='none';
            }
        else {
       document.getElementById('WarningPanel').style.display='inline';
            }
    }
    function UnselectOption(a,b)
    {
        elements.indexOf(b);
        elements.splice(elements.indexOf(b),1);
        if(elements.length==0)
       {
       document.getElementById('WarningPanel').style.display='none';
       document.getElementById('checkboxPanel').style.display='none';
       }
    }
        var listViewName='';
        function SaveListView()
        {
            if(document.getElementById('ListViewName').value=='')
            {
                document.getElementById('ListViewNameError').innerHTML='You must enter a value';
            }
            else
            {
            listViewName=document.getElementById('ListViewName').value;
            document.getElementById('ListViewFilters').style.display='inline';
            CloseListViewCreationModal();
            saveLV(document.getElementById('ListViewName').value,document.getElementById('SharingCheckBox').checked);            
            //$('.filterButton').addClass('slds-is-selected');
            }
        }
        
        
        function SaveThisListView()
        {
            var FiltersList='';
            var listviewName='';
//            if(checkfilterLogic()==false)
//            {  
                var currentListViewName = document.getElementById('ffp-currentListView').innerHTML.split('//')[0];
               
              /*   if('{!currentListView.footprint__formula__c}'!='' && filterNumber!=1){
                   FiltersList='{!currentListView.footprint__formula__c}'+'$$';
               }
              */ 
                var FieldLabels = document.getElementsByName("HfieldLabel");
                var OperatorsLabels = document.getElementsByName("operatorLabel");
                var ValueLabels = document.getElementsByName("valueLabel");
                var filterLogicText = document.getElementById('textarea-input-01').value;
                var i;
                for (i = 0; i < FieldLabels.length; i++) {
                    FiltersList+=FieldLabels[i].innerHTML+';;'+OperatorsLabels[i].innerHTML+';;'+ValueLabels[i].innerHTML+'$$';
                }
                
                FiltersList = FiltersList.substring(0, FiltersList.length - 2);
                
                
                listviewName = $('ffp-currentLVName').text();
                listviewName = listviewName.replace(';','');
                listviewName = listviewName.replace('#','');
                
                UpdateListView(currentListViewName ,FiltersList,filterLogicText);
//            }
/*            else
            {
                $('.ffp-filtermissed').css("display","inline");
            }
*/            event.preventDefault();
        }
        function RemoveAllFilters(){
            filterNumber=0;
            $('#FiltersTitle').css("display","inline");
            $('#saveCancel').css("display","none");
            $('.pillContainer').empty();
            $('#FilterLogicSection').hide();
            $('.ShowMePopover').hide(); 
            }
        function removefilter(a){
        
           $('.ShowMePopover').hide();
           var  filterNumber= 0;
            a.parent().parent().remove();
            if(filterNumber==0){
            $('#FiltersTitle').css("display","inline");
            $('#saveCancel').css("display","none");
          $('.fieldLabel').each(function()
          {
              filterNumber++;
          });         
           
           filterNumber = filterNumber - 1;
           
           if(filterNumber <=1)
           {
              $('#FilterLogicSection').css("display","none");
           }
 
                }
            }
        
        function addListViewFilter(){
            filterNumber++;
            document.getElementById('MatchingTitle').style.display='inline';
            var spanDiv ='<br/>'+
         '<div name="forceFilterPanelFilterCriterion" class="pillElement forceFilterPanelFilterCriterion"><span class="pillNumber" style="width:10%"></span><span class="slds-pill wrapper hasBeenEdited" style="width:100%">'+
         '<div class="slds-pill__label" onClick="onClickFilters($(this).parent().parent(),'+filterNumber+');">'+
                '<label class="fieldLabel ffp-fieldName" name="fieldLabel" id="fieldLabel'+filterNumber+'" for="text-input-01">New Filter</label><label style="display:none" name="HfieldLabel" id="HfieldLabel'+filterNumber+'">  </label> '+ 
         '<span name="operatorLabel" id="operatorLabel'+filterNumber+'"></span>'+'  '+'<span name="valueLabel" id="valueLabel'+filterNumber+'" class="fieldLabel valueLabel"></span>'+
         '</div>'+
         '<button class="slds-button slds-button--icon slds-pill__remove" style="float:right" onclick="removefilter($(this))">'+
         ' <svg aria-hidden="true" class="slds-button__icon">'+
         '   <use xlink:href="{!URLFOR($Resource.footprint__footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>'+
         ' </svg>'+
         ' <span class="slds-assistive-text">Remove</span>'+
         '</button>'+
         '</span>'+
         '<div class="filterPopover" >'+
         '</div>'+
         '</div>';
         $('.pillContainer').append(spanDiv);
         if(filterNumber>1){
    $('#FilterLogicSection').show();
}

        event.preventDefault();        
        return false;
    }
        
        function checkDisplayWaiting(){
        
        var check= true;
        $('.fp-status').each(
        function(){
        
        if($(this).text()!='100%')
        {
        check=false;
        }
        }
        );
        if(!check)
        {
        $('#fp-checkStatus').show();
        }
        if(check)
        {
         $('#fp-checkStatus').hide();
        }
        
        }
        
        function onClickFilters(thisClass,filterNum){
         $('.pillElement').each(function () {
            $(this).removeClass('selectedBox');
         });
         $(thisClass).addClass('selectedBox');
         
            //$(thisClass).find('.filterPopover').html($('.AddFilterPopover').html());
         var top = $('.selectedBox').position().top;
         $('.ShowMePopover').css("top",top+120);
         $('.ShowMePopover').css("position","absolute");
         $('.ShowMePopover').css("z-index","9999");
         $('.ShowMePopover').css("display","inline");
         $('#relatedFilterNumber').text(filterNum);
            
         return false;
    }
        
        function DoneListViewFilters(){
            $('.ffp-filtermissed').css("display","none");
            document.getElementById('ValueErrors').innerHTML='';
            $('#saveCancel').css("display","inline");
            $('#FiltersTitle').css("display","none");
           var num=$('#relatedFilterNumber').html();
            var fieldLabeldiv='fieldLabel'+num;
            var operatorLabeldiv='operatorLabel'+num;
            var valueLabeldiv='valueLabel'+num;
            var error=false;
            var chosenField=document.getElementById('ChosenField').value;
            document.getElementById(fieldLabeldiv).innerHTML=chosenField.split(';;')[2];
            document.getElementById('H'+fieldLabeldiv).innerHTML=chosenField.split(';;')[0];

            document.getElementById(operatorLabeldiv).innerHTML=document.getElementById('ChosenOperator').value;
            
            if(chosenField.split(';;')[1]!='BOOLEAN' && chosenField.split(';;')[1]!='DATE'&& chosenField.split(';;')[1]!='DATETIME')
            {
              if(chosenField.split(';;')[1]!='DOUBLE')
              {
                document.getElementById(valueLabeldiv).innerHTML=' \''+document.getElementById('ChosenValue').value+'\'';
              }
              else
              {
                document.getElementById(valueLabeldiv).innerHTML=document.getElementById('ChosenValue').value;
              }
            }
            
            else 
            {
                if(chosenField.split(';;')[1]=='BOOLEAN')
                {
                    var a=document.getElementById('bool1').className;
                    var b=document.getElementById('bool1').className;
                    if(a.includes('brand')){
                      document.getElementById(valueLabeldiv).innerHTML='False';  
                        }
                    else {
                      document.getElementById(valueLabeldiv).innerHTML='True'; 
                        }
                }
                else
                {
                    if(chosenField.split(';;')[1]=='DATE' )
                    {
                       if(document.getElementById('ChosenValue').value=='' ){
                        error=true;
                       document.getElementById('ValueErrors').innerHTML='You must enter a value'; 
                           }
                        else {
                          var reg = new RegExp("^[0-9]{2}[\/]{1}[0-9]{2}[\/]{1}[0-9]{4}$", "g");
                        if(!reg.test(document.getElementById('ChosenValue').value)){
                            error=true;
                            document.getElementById('ValueErrors').innerHTML='The value you entered does not match a date value'; 
                            }
                            else {
                                document.getElementById(valueLabeldiv).innerHTML=document.getElementById('ChosenValue').value;
                                }
                            }
                    }
                    else if (chosenField.split(';;')[1]=='DATETIME')
                    {
                     if(document.getElementById('ChosenValue').value=='' ){
                        error=true;
                       document.getElementById('ValueErrors').innerHTML='You must enter a value'; 
                           }
                        else {
                            //var regDate=new RegExp("^[0-9]{2}[\/]{1}[0-9]{2}[\/]{1}[0-9]{4}[T][0-9]:[0-5][0-9]:[0-5][0-9][Z]");
                        if(!TestDateTime(document.getElementById('ChosenValue').value)){
                            error=true;
                            document.getElementById('ValueErrors').innerHTML='The value you entered does not match a dateTime value'; 
                            }
                            else {
                                document.getElementById(valueLabeldiv).innerHTML=document.getElementById('ChosenValue').value;
                                }
                            }   
                        }

                    else
                    {
                    document.getElementById(valueLabeldiv).innerHTML=document.getElementById('ChosenValue').value; 
                    }
                }
            }
          if(error==false){
            //Hide the popover 
         $('.ShowMePopover').css("display","none");
              }
            }
          function resetAllValues() {
                $('input:text').val('');
              document.getElementById("myonoffswitch").checked = false;
              showFilters(false);
              document.getElementById("checkbox-WR").checked = false;
              document.getElementById("checkbox-VR").checked = false;
              document.getElementById("checkbox-Reports").checked = false;
              document.getElementById("checkbox-Email").checked = false;
              $("#fp-min-value").text('0%');
              $("#fp-max-value").text('100%');
            } 
            function removeCheckpoint()
            {
               event.preventDefault();
               $('#checkEndpoint').css('display','none');
               $('#background-shadow').css('display','none');
            
            }           
            function hideFeedback()
            {
              var checkpoint1 = {!checkEndPoint1};
              var checkpoint2 = {!checkEndPoint2};
              var  checkpoint = (checkpoint1 || checkpoint2);
              
              if(checkpoint==true)
              {
               $('#checkEndpoint').css('display','inline');
               $('#background-shadow').css('display','inline');
               $('#MyRateModal').css('display','none');
               
              }
              if(checkpoint==false)
              {
              $('#checkEndpoint').css('display','none');
              $('#background-shadow').css('display','none');
              $('#MyRateModal').css('display','inline');
              }
                           
            }           
             
        </script>
        
        <apex:actionFunction name="reditectoToFPDetail" action="{!reditectoToFPDetail}">
        <apex:param name="footPrintID" value="" id="footPrintID"/> 
        </apex:actionFunction>
        
<!--    <apex:actionFunction name="checkLogicFilter" action="{!checkLogicFilter}" >
        <apex:param name="footPrintID" value="" id="footPrintID"/> 
        </apex:actionFunction>
-->        
        <apex:actionFunction name="RenameListView" action="{!RenameListview}" reRender="jsForm,wholePage,listViewsPanel" oncomplete="SelectThisListView2();">
          <apex:param name="listViewNewName" id="listViewNewName"  value="" />  
          <apex:param name="listViewOldName" id="listViewOldName"  value="" />  
        </apex:actionFunction>
        <apex:actionFunction name="ChangeListColumns" action="{!ChangeListViewsColumns}" reRender="details,jsForm,itemsPanel" oncomplete="CloseListViewColumnsModal();hideAllColumns();">
          <apex:param name="cols" id="cols"  value="" />  
        </apex:actionFunction>
        <apex:actionFunction name="ChangeSharing" action="{!ChangeSharing}" reRender="itemsPanel,ListViewSharingPanel" oncomplete="CloseListViewSharingModal();">
          <apex:param name="sharingSet" id="SharingSet"  value="" />  
        </apex:actionFunction>
        <apex:actionFunction name="UpdateListView" action="{!changeListviewFilters}" reRender="details,jsForm,itemsPanel,ColumnsPanel"  status="status" oncomplete="document.getElementById('ListViewFilters').style.display='none';hideAllColumns();">
          <apex:param name="listViewNewNameC" id="listViewNewNameC"  value="" />  
          <apex:param name="formulaC" id="formulaC"  value="" />  
          <apex:param name="filterLogic2" id="filterLogic2"  value="" /> 
        </apex:actionFunction>
        <apex:actionFunction name="SaveNewListView" action="{!SaveNewListView}" reRender="jsForm,wholePage,listViewsPanel" oncomplete="SelectThisListView();">
          <apex:param name="listViews" id="listViews"  value="" />  
          <apex:param name="listViewName" id="listViewName"  value="" />  
          <apex:param name="listViewSharing" id="listViewSharing"  value="" />  
        </apex:actionFunction>
        <apex:actionFunction name="ListViewDelete" action="{!deleteListView}" reRender="listViewsPanel,details,jsForm,itemsPanel" status="status">
          <apex:param name="deletelistView" id="deletelistView"  value="" />  
        </apex:actionFunction>
        <apex:actionFunction name="Search" action="{!SearchAndFilter}" reRender="details,itemsPanel" status="status">
          <apex:param name="Filter" id="filter"  value="" />
        </apex:actionFunction>
        <apex:actionFunction name="Fill" action="{!FillFields}" reRender="popup" status="status2" oncomplete="FillFields();">
          <apex:param name="ObjectName" id="ObjectName"  value="" />
        </apex:actionFunction>
        <apex:actionFunction name="ChangeView" action="{!SearchByView}" reRender="details,jsForm,itemsPanel,ColumnsPanel" status="status" oncomplete=" hideAllColumns();">
          <apex:param name="View" id="View"  value="" />
        </apex:actionFunction>
        <apex:actionFunction name="Update" action="{!UpdatePage}" reRender="details,itemsPanel,jsForm" status="status" />
        <apex:actionFunction action="{!Save}" name="SaveFP" reRender="form1">
          <apex:param id="object" name="object" value=""/>
          <apex:param id="FPName" name="FPName" value=""/>
          <apex:param id="Formula" name="Formula" value=""/>
          <apex:param name="SEmailMe" value="" id="SEmailMe"/>
          <apex:param name="SVR" value="" id="SVR"/>
          <apex:param name="SWR" value="" id="SWR"/>
          <apex:param name="minVal" value="" id="minVal"/>
          <apex:param name="maxVal" value="" id="maxVal"/>
          <apex:param name="Reports" value="" id="Reports"/>
        </apex:actionFunction>
       <apex:actionFunction name="SubmitTheForm" action="{!submitFeedback}" rerender="" Oncomplete="if('{!FeedbackResult}'){document.getElementById('SuccessToast').style.display='inline';document.getElementById('MyRateModal').style.display='none';return false;}else {document.getElementById('FailToast').style.display='inline'}" status="Feedbackstatus"> 
                <apex:param name="Value" id="Value"  value="" />  
                <apex:param name="Documentation" id="documentation"  value="" />
                <apex:param name="installation" id="installation"  value="" />  
                <apex:param name="comments" id="comments"  value="" /> 
                <apex:param name="ContactMe" id="ContactMe"  value="" />
            </apex:actionFunction>
       <apex:actionFunction name="saveLV" action="{!saveListView}" Oncomplete="updateCurentNewListView();" reRender="example,details,itemsPanel"  status="status"> 
                <apex:param name="nameLV" id="nameLV"  value="" />  
                <apex:param name="sharingView" id="sharingView"  value="" />
       </apex:actionFunction>
   <apex:actionFunction name="checkLogicFilterRegex" action="{!checkLogicFilter}" reRender="FilterLogicVar" oncomplete="/*displayerrorFilter();*/updateListViewIfFilterPass();" >
   <apex:param name="logicFilter1" id="logicFilter1" value="" />
   </apex:actionFunction>
            
<div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open" id="checkEndpoint" style="display:none;">
  <div class="slds-modal__container">
    <div class="slds-modal__header" style="border-bottom:0px;padding:0.5%;">
      <button class="slds-button slds-modal__close slds-button--icon-inverse" title="Close" onclick="removeCheckpoint();">
        <svg aria-hidden="true" class="slds-button__icon slds-button__icon--large">
<use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>        </svg>
        <span class="slds-assistive-text">Close</span>
      </button>
      <h2 id="header43" class="slds-text-heading--medium"></h2>
    </div>
    <div class="slds-modal__content slds-p-around--medium">
      <div style="font-family:'Salesforce Sans'">

Hi there. It looks like you haven't set up remote site settings. Before you can submit any feedback, you'll need to set up them. You can learn more about remote site settings <a href="{!helpLink}" target="blank">  here</a>.
<br/><br/>
To create your remote site setting, please complete the following steps.  
<br/><br/>

<span style="display:{!IF(installInfo!='2' && checkEndPoint2,'','none')}" id="part1">
1 - From Setup, enter Remote Site Settings in the Quick Find box and then select Remote Site Settings.<br/>
2 - Click New Remote Site.<br/>
3 - Enter the following value :<br/> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Remote Site Name : FieldFootPrintRemoteSite2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Remote Site URL :<a href="{!Enpoint2}" target="blank">{!Enpoint2}</a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Keep the Disable Protocol Security unchecked<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Active checkbox should be checked<br/>
4 - Click Save.<br/>
</span>

<span style="display:{!IF(installInfo=='2' && checkEndPoint2,'','none')};" id="part2">
1 - From Setup, enter Remote Site Settings in the Quick Find box and then select Remote Site Settings.<br/>
2 - Search for Remote Site URL <a href="{!Enpoint2}" target="blank">{!Enpoint2}</a><br/>
3 - Click Edit <br/>
4 - Confirm the following :<br/> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Active checkbox should be checked<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Keep the Disable Protocol Security unchecked<br/>
5 - Click Save.<br/>
</span>

<br/>

Once you're done, go back to the FootPrints tab and click the Feedback button. You will no longer see this message.  


      </div>
    </div>
  </div>
  
</div>
      
   
<div id="background-shadow" class="slds-backdrop slds-backdrop--open" style="display:none;"></div>     
            
            
            <apex:outputPanel id="RatePanel">
                <!--Toast -->
                
                     <div class="slds-notify_container" id="SuccessToast" style="display:none">
                      <div class="slds-notify slds-notify--toast" role="alert">
                        <span class="slds-assistive-text">Error</span>
                        <button class="slds-button slds-notify__close slds-button--icon-inverse" onClick="document.getElementById('SuccessToast').style.display='none';return false" >
                          <svg aria-hidden="true" class="slds-button__icon slds-button__icon--large">
                            <use xlink:href="{!URLFOR($Resource.lightningRes, '/LightningResources/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>
                          </svg>
                          <span class="slds-assistive-text">Close</span>
                        </button>
                        <div class="slds-notify__content slds-grid">
                          <div aria-hidden="true" class="slds-icon slds-icon--small slds-m-right--small slds-col slds-no-flex">
                            <img src="{!URLFOR($Resource.lightningRes, '/LightningResources/SLDS202/assets/icons/utility/check_120.png')}" />
                          </div>
                          <div class="slds-col slds-align-middle">
                            <h2 class="slds-text-heading--small" style="color:white;font-family: 'Salesforce Sans',Arial,sans-serif !important;">Your feedback has been submitted. Thank you!</h2>
                          </div>
                        </div>
                      </div>
                    </div>
                <!--Success Toast -->
                <!--FailToast-->
                    <div class="slds-notify_container" id="FailToast" style="display:none">
                      <div class="slds-notify slds-notify--toast slds-theme--error" role="alert">
                        <span class="slds-assistive-text">Error</span>
                        <button class="slds-button slds-notify__close slds-button--icon-inverse" onClick="document.getElementById('FailToast').style.display='none';return false" >
                          <svg aria-hidden="true" class="slds-button__icon slds-button__icon--large">
                            <use xlink:href="{!URLFOR($Resource.lightningRes, '/LightningResources/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>
                          </svg>
                          <span class="slds-assistive-text">Close</span>
                        </button>
                        <div class="slds-notify__content slds-grid">
                          <svg aria-hidden="true" class="slds-icon slds-icon--small slds-m-right--small slds-col slds-no-flex">
                            <use xlink:href="{!URLFOR($Resource.lightningRes, '/LightningResources/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#warning')}"></use>
                          </svg>
                          <div class="slds-col slds-align-middle">
                            <h2 class="slds-text-heading--small">You encountered some errors when trying to save your feedback.</h2>
                          </div>
                        </div>
                      </div>
                    </div>
                <!--End toasts-->
                
        <!--FeedBack Mechanism-->
         <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open RateModal" id="MyRateModal" style="display:none">
          <div class="slds-modal__container">
            <div class="slds-modal__header rate-modal__header" >
              
              <h2 id="header43" class="slds-text-heading--x-small" style="font-family: 'Salesforce Sans',Arial,sans-serif !important;font-weight:500;margin-left:15px;margin-right:28px;font-size: 1em;">We appreciate your feedback!</h2>
            </div>
            <div class="slds-modal__content slds-p-around--medium" style="box-shadow: 0px -3px 10px -1px rgba(0,0,0,.16)">
              <div style="margin-left:15px;margin-right:-16px">
                  <div id="GeneralError" style="color:rgb(198,71,66);font-size: 13px;"></div><br/>
                  <label class="slds-form-element__label On-the-scale-of-15 ">On the scale of 1-5, please rate these aspects of the app:</label><br/><br/>
                  <label class="slds-form-element__label" style="font-weight:normal" for="Easestar5">The value this app provides:</label>  <br/>                                          
                  
                  <fieldset class="rating" name="value">
                        <input type="radio" id="star5" name="rating" value="5" /><label class = "full" for="star5" title="Awesome - 5 stars"></label>
                        <input type="radio" id="star4" name="rating" value="4" /><label class = "full" for="star4" title="Pretty good - 4 stars"></label>
                        <input type="radio" id="star3" name="rating" value="3" /><label class = "full" for="star3" title="Meh - 3 stars"></label>
                        <input type="radio" id="star2" name="rating" value="2" /><label class = "full" for="star2" title="Kinda bad - 2 stars"></label>
                        <input type="radio" id="star1" name="rating" value="1" /><label class = "full" for="star1" title="Sucks big time - 1 star"></label>
                    </fieldset>
                  <label class="slds-form-element__label" id="ValueError" style="font-weight:normal;color:rgb(198,71,66);font-size: 13px;margin-top: -13px;margin-bottom: 6px;"></label>

                       <label class="slds-form-element__label" for="Easestar5" style="font-weight:normal">The ease of installation:</label>                      
                  <fieldset class="rating2" name="Ease">
                        <input type="radio" id="star10" name="rating2" value="5" /><label class = "full" for="star10" title="Awesome - 5 stars"></label>
                        <input type="radio" id="star9" name="rating2" value="4" /><label class = "full" for="star9" title="Pretty good - 4 stars"></label>
                        <input type="radio" id="star8" name="rating2" value="3" /><label class = "full" for="star8" title="Meh - 3 stars"></label>
                        <input type="radio" id="star7" name="rating2" value="2" /><label class = "full" for="star7" title="Kinda bad - 2 stars"></label>
                        <input type="radio" id="star6" name="rating2" value="1" /><label class = "full" for="star6" title="Sucks big time - 1 star"></label>
                  </fieldset>
                  <label class="slds-form-element__label" id="InstallationError" style="font-weight:normal;color:rgb(198,71,66);font-size: 13px;margin-top: -13px;margin-bottom: 6px;"></label>

                       <label class="slds-form-element__label" for="Docstar5" style="font-weight:normal">The usefulness of the documentation:</label>
                  
                  <fieldset class="rating3" name="documentation">
                        <input type="radio" id="star15" name="rating3" value="5" /><label class = "full" for="star15" title="Awesome - 5 stars"></label>
                        <input type="radio" id="star14" name="rating3" value="4" /><label class = "full" for="star14" title="Pretty good - 4 stars"></label>
                        <input type="radio" id="star13" name="rating3" value="3" /><label class = "full" for="star13" title="Meh - 3 stars"></label>
                        <input type="radio" id="star12" name="rating3" value="2" /><label class = "full" for="star12" title="Kinda bad - 2 stars"></label>
                        <input type="radio" id="star11" name="rating3" value="1" /><label class = "full" for="star11" title="Sucks big time - 1 star"></label>
                    </fieldset>
                  <label class="slds-form-element__label" id="DocumentationError" style="font-weight:normal;color:rgb(198,71,66);font-size: 13px;margin-top: -13px;"></label>
                    <div class="slds-form-element" style="margin-top: 49px;" id="FeedbackCom">
                      <label class="slds-form-element__label" for="textarea-comments" style="font-weight:normal;margin-top: -20px;">Additional feedback:</label>
                      <div class="slds-form-element__control" >
                        <textarea id="textarea-comments" class="slds-textarea" style=" width: 250px; height: 108px;" placeholder="Comments"></textarea>
                      </div>
                    </div>
                  <br/>
                  <label class="slds-form-element__label On-the-scale-of-15 ">Let us know who you are so we can follow up with questions.</label><br/><br/>
                  <label class="slds-form-element__label" style="margin-right: -1.25rem;font-weight:normal" >We won't use your name or contact information for any purpose other than learning more about your feedback.</label>
                  <br/>
                  <div>
                      <!--Contact Informations-->
                      
                      <div class="slds-tile slds-media" >
                          <div class="slds-media__figure"><br/>
                        <span class="slds-avatar slds-avatar--circle slds-avatar--medium">
                          <img id="myAvatar" src="{!CurrentUser.FullPhotoUrl}" alt="Person&#x27;s name" />
                        </span>
                      </div>
                          <div class="slds-media__body"><br/>
                        <h3 class="slds-truncate" title="Katie Nealan - Tesla Motors" style="margin-left:15px;color:#0070d2;font-size: 1em;" id="NameAndCompany">{!CurrentUser.FirstName} {!CurrentUser.LastName} - {!CurrentUser.CompanyName}</h3>
                        <div class="slds-tile__detail slds-text-body--small">
                          <ul class="slds-list--horizontal slds-has-dividers--right">
                              <li id="ContactInfo" class="slds-item" >{!CurrentUser.Email}  <br/>{!CurrentUser.MobilePhone}</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                      <br/>
                       <div class="slds-form-element__control">  
                        <label class="slds-radio">
                          <input type="radio" name="options" id="checkbox-yes" checked="true" Onchange="EnableDisableContactInfo();" />
                          <span class="slds-radio--faux"></span>
                           <span class="slds-form-element__label" style="font-weight:normal">Yes, you can contact me</span>
                        </label>
                        </div>
                    <div class="slds-form-element__control">  
                        <label class="slds-radio">
                          <input type="radio" name="options" id="checkbox-No" Onchange="EnableDisableContactInfo();" />
                          <span class="slds-radio--faux"></span>
                           <span class="slds-form-element__label" style="font-weight:normal">No, I prefer to be anonymous</span>
                        </label>
                        </div>
                  </div>
                  <br/>
                   <apex:actionStatus id="Feedbackstatus">
                    <apex:facet name="start">
                    <div style="position: fixed; left: 0; top: 30%; bottom: 0; right: 0; z-index: 1001; margin: 15% 50%">
                      <div style="display: inline-block; padding: 2px;  width: 180px;">
                        <div class="slds-spinner--medium">
                          <img src="{!URLFOR($Resource.lightningRes, '/LightningResources/SLDS202/assets/images/spinners/slds_spinner_brand.gif')}" alt="Loading..." />
                        </div>
                      </div>
                    </div>
                  </apex:facet>
                </apex:actionStatus>
                 </div>
            </div>
            <div class="slds-modal__footer">
              <button class="slds-button slds-button--neutral"  onclick="resetRateModal();removeAllErrors();document.getElementById('MyRateModal').style.display='none';return false;">Cancel</button>
              <button class="slds-button slds-button--brand" Onclick="SubmitForm();return false;">Submit
                
                </button>
                
            </div>
          </div>
    </div>
      
        
        </apex:outputPanel>
        <!--FeedBack Mechanism-->
        </apex:outputpanel>
            </apex:form>
        <apex:outputPanel id="PageHeader">
        <div class="slds-page-header" role="banner" style="border-bottom: 0px solid;margin-top:-10px ;background-color: #F4F6F9">
           
            <!--<span class="slds-icon_container" style="background-color: #3FC4D3" title="description of icon when needed">
                <img width="128px;" data-aura-rendered-by="270:1;0" src="https://c.eu6.content.force.com/servlet/servlet.ImageServer?id=01558000000C3Cr&oid=00D58000000dPrV&lastMod=1471330892000" class="icon " alt="Footprint" title="Footprint"/>
            </span>-->
        <div class="slds-grid">
          <div class="slds-col slds-has-flexi-truncate">
            <p class="slds-text-heading--label" style="margin-left:47px">Footprint</p>
            <div class="slds-grid">
              <div style="font-family: 'Salesforce Sans','Arial',sans-serif;" class="slds-dropdown-trigger slds-dropdown-trigger--click" aria-expanded="true" >
                <apex:outputPanel id="listViewsPanel">
                  <div class="slds-grid slds-type-focus slds-no-space">
                      <div class="slds-media__figure" style="margin-top:-10px">
                        <div aria-hidden="true" class="slds-icon slds-icon-standard-groups" style="background-color: #9fdb66">
                            <img src="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/custom/custom5_120.png')}" />
                        </div> 
                      </div>
                  <p class="tile__title slds-truncate slds-text-heading--small triggerLinkText releaseTitle" >
                  Recently Viewed</p>
                  <button class="slds-button slds-button--icon-bare slds-shrink-none slds-align-middle slds-m-right--medium">
                    <svg aria-hidden="true" class="slds-button__icon" > 
                      <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#down')}"></use>
                    </svg>
                    <span class="slds-assistive-text">View More</span>
                  </button>
                </div>
                  
                <div class="releaseMenu slds-dropdown slds-dropdown--left slds-dropdown--small" style="padding:0px;left:40px">
                  <ul class="dropdown__list" role="menu" id="ffp-listview-menu">
                    <!--<li class="slds-dropdown__item" Onclick="selectRelease(this,'All footprints','All footprints');" name="releasesIcons">
                      <a href="javascript:void(0);" role="menuitem">
                        <p class="slds-truncate">
                            <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                                <use xlink:href="{!URLFOR($Resource.lightningRes, 'assets/icons/utility-sprite/svg/symbols.svg#check')}"></use>
                            </svg>
                          All footprints
                        </p>
                      </a>
                    </li>-->
                    <li class="slds-dropdown__item has-icon--left   slds-is-selected forceListViewPickerAutocompleteOption" role="presentation" data-aura-rendered-by="1842:0" data-aura-class="forceListViewPickerAutocompleteOption">
                    <div class="slds-dropdown__header slds-text-heading--label " data-aura-rendered-by="1843:0">List Views</div>
                    </li>
                    <li class="slds-dropdown__item slds-is-selected"  Onclick="selectRelease(this,'Recently Viewed','Recently Viewed');" name="releasesIcons" style="background-color:#F4F6F9;margin-left:0px;">

                    <a role="menuitem" name="links">
                    <p class="slds-truncate">
                  <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                      <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#check')}"></use>
                  </svg>
                      Recently Viewed
                      </p>
                     </a>   
                    </li>
                      <apex:repeat value="{!listViews}" var="listvi" id="thefray">
                        <li class="slds-dropdown__item" Onclick="selectRelease(this,'{!listvi.Label__c}','{!listvi.Name}');" name="releasesIcons" style="margin-left:0px;">
                      <a  role="menuitem" name="links">
                      <p class="slds-truncate">
                  <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                      <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#check')}"></use>
                  </svg>                      
                      {!listvi.Label__c}
                   </p>
                      </a>
                    </li>   
                      </apex:repeat>
                      
                  </ul>
                </div>
                  </apex:outputPanel>
              </div>
              
                
            </div>
          </div>
          <div class="slds-col slds-no-flex slds-grid slds-align-bottom">
          </div>
          <br/>
        </div>
        
          <div class="slds-grid" style=" margin-top: -15px;">
             
            <div class="slds-col slds-align-bottom" > <apex:outputPanel id="itemsPanel">
              <p class="slds-text-body--small page-header__info"><span class="itemsNumber">{!sizeData}</span> items . 
                <span>Last updated {!LastUpdate} </span>
              </p></apex:outputPanel>
            </div>
              
            <div class="slds-col slds-no-flex slds-grid slds-align-bottom">
             <div id="newSearchPlace" style="margin-top:2px;"></div>
                <!--Start of settings button-->
                <div class="slds-dropdown-trigger slds-dropdown-trigger--click " aria-expanded="true">
                      <button  class="slds-button slds-button--icon-more Option" aria-haspopup="true" id="settingsButton">
                        <svg aria-hidden="true" class="slds-button__icon">
                            <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#settings')}"></use>
                          </svg>
                          <svg aria-hidden="true" class="slds-button__icon slds-button__icon--x-small" >
                            <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#down')}"></use>
                          </svg>
                          <span class="slds-assistive-text">More settings</span>
                      </button>
                      <div class="slds-dropdown slds-dropdown--left slds-dropdown--x-small OptionMenu" style="min-width: 11rem;width:35%;">
                        <ul class="dropdown__list" role="menu">
                            <li class="slds-dropdown__item slds-is-selected text-heading--label">
                                <a href="javascript:void(0);" role="menuitem"><p class="slds-truncate">
                                LIST VIEW CONTROLS
                                 </p></a></li>
                            
                          <li class="slds-dropdown__item slds-is-selected" aria-selected="true" Onclick="OpenListViewCreationModal();">
                              
                            <a  role="menuitem">
                              <p class="slds-truncate "  >
                                <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                                  <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#check"></use>
                                </svg>New </p>
                              <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default slds-m-left--small slds-shrink-none">
                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#table"></use>
                              </svg>
                            </a>
                          </li>
                          <li class="slds-dropdown__item" Onclick="OpenListViewRenamingModal();">
                            <a  role="menuitem" class="not-active" name="Links">
                              <p class="slds-truncate not-active" name="Links">
                                <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                                  <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#check"></use>
                                </svg>Rename</p>
                              <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default slds-m-left--small slds-shrink-none">
                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#kanban"></use>
                              </svg>
                            </a>
                          </li>
                          <li class="slds-dropdown__item" Onclick="OpenListViewSharingModal();" >
                            <a role="menuitem" class="not-active " name="Links">
                              <p class="slds-truncate not-active" name="Links">
                                <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                                  <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#check"></use>
                                </svg>Sharing Settings</p>
                              <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default slds-m-left--small slds-shrink-none">
                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#side_list"></use>
                              </svg>
                            </a>
                          </li>
                            <li class="slds-dropdown__item" Onclick="showListViewFilters();">
                            <a  role="menuitem" class="not-active" name="Links">
                              <p class="slds-truncat not-active " name="Links">
                                <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                                  <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#check"></use>
                                </svg>Edit List filters</p>
                              <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default slds-m-left--small slds-shrink-none">
                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#side_list"></use>
                              </svg>
                            </a>
                          </li>
                            <li class="slds-dropdown__item" Onclick="OpenListViewColumnsModal();">
                            <a  role="menuitem" class="not-active" name="Links">
                              <p class="slds-truncate not-active" name="Links">
                                <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                                  <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#check"></use>
                                </svg>Select Fields to display</p>
                              <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default slds-m-left--small slds-shrink-none">
                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#side_list"></use>
                              </svg>
                            </a>
                          </li>
                              <li class="slds-dropdown__item" Onclick="DeleteListView();">
                            <a  role="menuitem" class="not-active" name="Links">
                              <p class="slds-truncate not-active" name="Links">
                                <svg aria-hidden="true" class="slds-icon slds-icon--selected slds-icon--x-small slds-icon-text-default slds-m-right--x-small">
                                  <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#check"></use>
                                </svg>Delete</p>
                              <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default slds-m-left--small slds-shrink-none">
                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#side_list"></use>
                              </svg>
                            </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                <!--End of settings button-->
            <button id="activeRefresh" class="slds-button slds-button--icon-border" Onclick="putBack();" >
              <img id="RefreshButton" src="{!URLFOR($Resource.SLDS203, '/assets/icons/utility/refresh_60.png')}" width="16px"/><!--{!URLFOR($Resource.Refresh2)}-->
              <span class="slds-assistive-text">Refresh</span>
            </button>
                <button class="slds-button slds-button--icon-border filterButton" onClick="filterClick()" >
              <svg aria-hidden="true" class="slds-button__icon">
                  <use xlink:href="{!URLFOR($Resource.SLDS203, '/assets/icons/utility-sprite/svg/symbols.svg#filterList')}"></use>
              </svg>
              <span class="slds-assistive-text">Filter List</span>
            </button>
            <button class="slds-button slds-button--neutral" Onclick="showOppmodal();resetAllValues();"  style="margin-top:2px; margin-bottom:2px;" >New</button> 
            </div>
          </div>
         <div class="AddFilterPopover">  
            
        </div>
  
        </div>
          </apex:outputPanel> 
        <div class="ShowMePopover slds-dropdown slds-popover slds-nubbin--right slds-p-around--medium scrollable" role="dialog" style="display:none">
            <span id="relatedFilterNumber" style="display:none" class="relatedFilterNumber"></span>
            <apex:actionStatus id="status3">
          <apex:facet name="start">
            <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.5; z-index: 1000; background-color: white;">
                                                                        &nbsp;
                                                                    </div>
            <div style="position: fixed; left: 0; top: 30%; bottom: 0; right: 0; z-index: 1001; margin: 15% 50%">
              <div style="display: inline-block; padding: 2px;  width: 180px;">
                <div class="slds-spinner--medium">
                  <img src="{!URLFOR($Resource.lightningRes, '/LightningResources/SLDS202/assets/images/spinners/slds_spinner_brand.gif')}" alt="Loading..." />
                </div>
              </div>
            </div>
          </apex:facet>
        </apex:actionStatus>
            <div class="slds-form-element">
                      <label class="slds-form-element__label" name="Label" for="Field">{!$Label.FP_Field}</label>
                      <br/>
                      <div class="slds-form-element__control">
                        <select name="CField" class="slds-input slds-show" id="ChosenField" style="width: 100%; min-width: 160px; margin-right:16px" Onchange="FillFilterPopup(this.value);return false;">
                            <apex:variable value="" var="currentfield"/>
                          <apex:repeat value="{!footprintFields }" var="field">
                              <apex:variable value="{!field}" var="currentfield"/>
                            <option value="{!footprintFields[field]};;{!footprintFields[field].describe.type};;{!footprintFields[field].describe.Label}">{!footprintFields[field].describe.Label} ({!footprintFields[field].describe.name})</option>
                          </apex:repeat>
                        </select>
                      </div>
                    </div>
            <apex:outputPanel id="popover">
            <div class="slds-form-element">
                      <label class="slds-form-element__label" for="Operator" name="Label">Operator</label>
                      <br/>
                      <div class="slds-form-element__control">
                        <select name="HOperator" class="slds-input slds-show" id="ChosenOperator">
                            <apex:repeat value="{!Operators}" var="operator">
                          <option value="{!operator}">{!operator}</option>
                            </apex:repeat>
                        </select>
                      </div>
                    </div>
                    <div class="slds-form-element">
                      <label class="slds-form-element__label" name="Label" for="Value">{!$Label.FP_Value}</label>
                      <br/>
                      <div class="slds-form-element__control">
                          
                          <apex:outputPanel rendered="{!Values=='Boolean'}">
                              <div class="slds-button-group" role="group" >
                              <button id="bool1" Onclick="document.getElementById('bool1').className='slds-button slds-button--brand';document.getElementById('bool2').className='slds-button slds-button--neutral';" class="slds-button slds-button--neutral leftButton uiButton" style="width:50%">False</button>
                              <button id="bool2" Onclick="document.getElementById('bool1').className='slds-button slds-button--neutral';document.getElementById('bool2').className='slds-button slds-button--brand';" class="slds-button slds-button--neutral selected rightButton uiButton" style="width:50%">True</button>
                              </div>
                          </apex:outputPanel>
                       
                          
                          <apex:outputPanel rendered="{!Values==''}">
                              <input type="text" class="slds-input" id="ChosenValue" name="listViewValue"  />
                              <p id="ValueErrors" style="color:red"></p>
                          </apex:outputPanel>
                        
                          
                      </div>
                    </div>
                 <div class="slds-form-element" style="float:right">
                     <button class="slds-button slds-button--neutral" OnClick="DoneListViewFilters();return false;">Done</button>
                 </div>
                </apex:outputPanel>
        </div> 
        <apex:form >
        <apex:outputPanel id="wholePage">
        <div class="slds-grid slds-wrap slds-grid--pull-padded">
            <div class="slds-col--padded slds-size--1-of-2 slds-medium-size--5-of-6 slds-large-size--10-of-12" style="margin-top:8px">
        <apex:outputPanel id="details">
        <span id="ffp-currentListView" style="display:none;" >{!currentListView.name}//{!currentListView.label__c}//{!currentListView.formula__c}//{!currentListView.query__c}</span>
        <table id="example" class="slds-table slds-table--bordered slds-table--cell-buffer" style="border-right:1px solid rgb(216, 221, 230);font-family: 'Salesforce Sans',Arial,sans-serif;" >
          <thead>
            <tr class="slds-text-heading--label">
                <th scope="col"></th>
            <th scope="col">
            <div class="slds-truncate" title="Object Label">Name</div>
            </th>
               <apex:repeat value="{!columns_lst}" var="col">
              <th scope="col">
                <div class="slds-truncate" title="Object Label">{!footprintFields[col].describe.Label}</div>
              </th>             
              </apex:repeat>
            </tr>
          </thead>
          <tbody>
              
            <apex:repeat value="{!id_lst}" var="idfp">
                <tr>
                    <td style="font-family: 'Salesforce Sans',Arial,sans-serif; text-align:center;width:60px;color:rgb(22, 50, 92);"></td>
                <td style="font-family: 'Salesforce Sans',Arial,sans-serif;">
                  <div class="slds-truncate" style="font-family: 'Salesforce Sans',Arial,sans-serif;color:rgb(22, 50, 92);"><!--<a href="/{!idfp}" style="font-size: 0.8625rem;">{!mapValCol[idfp+'Name']} </a> -->
                  <apex:commandLink action="{!reditectoToFPDetail}" value="{!mapValCol[idfp+'Name']}">
                  <apex:param name="nickName" value="{!idfp}" assignTo="{!footprintid_redirect}"/>
                  </apex:commandLink>
                  
                  </div>
                </td>
                    <apex:repeat value="{!columns_lst}" var="col">
                    <td style="font-family: 'Salesforce Sans',Arial,sans-serif;">
                     <div class="slds-truncate fp-value" style="font-family: 'Salesforce Sans',Arial,sans-serif;font-size: 0.8625rem;color:rgb(22, 50, 92);">{!mapValCol[idfp+col]}</div>
                    </td>
                    </apex:repeat>
                 </tr>
            </apex:repeat>
          </tbody>
        </table>
        <apex:actionStatus id="status">
          <apex:facet name="start">
            <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.5; z-index: 1000; background-color: white;">
                                                                        &nbsp;
                                                                    </div>
            <div style="position: fixed; left: 0; top: 30%; bottom: 0; right: 0; z-index: 1001; margin: 15% 50%">
              <div style="display: inline-block; padding: 2px;  width: 180px;">
                <div class="slds-spinner--x-medium">
                  <img width="65px" src="{!URLFOR($Resource.lightningRes, '/LightningResources/SLDS202/assets/images/spinners/slds_spinner_brand.gif')}" alt="Loading..." />
                </div>
              </div>
            </div>
          </apex:facet>
        </apex:actionStatus></apex:outputPanel>
            </div>
            
            <div class="slds-col--padded slds-size--1-of-2 slds-medium-size--1-of-6 slds-large-size--2-of-12" id="ListViewFilters" style="display:none;" >
            <apex:outputPanel style="display:none;" id="FilterLogicVar"><span id="logicFilterValidationRegex">{!logicFilterValidation}</span></apex:outputPanel>
            <apex:outputPanel id="FilterListViewPanel">
                <br/><br/>
                <!--Start-->
                <div class="slds-panel slds-grid slds-grid--vertical slds-nowrap "  style="margin-top:4px">
                  <div class="slds-form--stacked slds-grow slds-scrollable--y" >
                    <div class="slds-panel__section slds-has-divider--bottom slds-has-divider--top ">
                      <div class="slds-media slds-tile">
                          <h2 class="slds-form-element__label" style="font-size: 1rem;" id="FiltersTitle">Filters</h2>
                        </div>
                        <div id="saveCancel" style="display:none">
                               <section class="slds-clearfix">
                                  <div class="slds-float--left">
                              <button id="cancel" class="slds-button slds-button--neutral" style="float: left" Onclick="document.getElementById('ListViewFilters').style.display='none'">Cancel</button>
                                  </div>
                                  <div class="slds-float--right">
                              <button id="save" class="slds-button slds-button--brand" style="float: right" Onclick="/*SaveThisListView();*/checkfilterLogic();">Save</button>
                                  </div>
                                </section> 
                        </div>
                    </div>
                    <div class="slds-panel__section">
                      <div class="slds-form-element slds-hint-parent ">
                        <div class="ffp-filtermissed slds-p-bottom--x-small" style="display:none;">Filter missed</div>                    
                      
                          <div style=" border:1px solid rgb(216, 221, 230); border-radius: 5px; " cellpadding="10" >
                              <div style="margin-top:2%;margin-bottom:2%;margin-left:2%;margin-right:2%;">
                                <a><span class="slds-form-element__label">Show me </span>
                                <div class="slds-form-element__control">
                                  <span class="slds-form-element__static">All footprints</span>
                                </div>
                                 
                                  </a>
                             </div>
                              
                          </div>
                          <h3 class="bodyTitle" id="MatchingTitle" style="display:none">Matching all of these filters</h3><br/>
                          <div class="pillContainer">
                              
                                 </div>
                             <section class="slds-clearfix">
                                  <div class="slds-float--left">
                                    <button class="slds-button" onclick="addListViewFilter();">Add Filter</button>
                                  </div>
                                  <div class="slds-float--right">
                                    <a class="slds-button" onclick="RemoveAllFilters();">Remove All</a>
                                  </div>
                                </section> 
                     <section class="slds-clearfix" id="FilterLogicSection" style="display:none">
                       <div class="slds-float--left">
                       <div id="FilterLogicErrors" style="color:red"></div>
                          <button class="slds-button" onclick="addFilterLogic();return false;">Add Filter Logic</button>
                         </div>
                      </section>
              <div class="slds-form-element ffp-filterLogicOptions" style="display:none;">
                  <section class="slds-clearfix">
                  <div class="slds-float--left">
                  <span class="sf-bodyTitle">
                         <div class="slds-form-element" id="filterLogicSection"> 
                              <label class="slds-form-element__label" style="margin-right: 0px" for="FilterLogicTextArea">Filter Logic</label> 
                         </div> 
                 </span>    
                  </div>
                  <div class="slds-float--right">
                    <a  onClick="removeFilterLogic();">Remove</a>
                  </div>
                </section>
              </div>

              <div class="slds-form-element ffp-filterLogicOptions" style="display:none;">
                  <div class="slds-form-element__control">                    
               <section class="slds-clearfix" id="FilterLogicArea" style="display:none"> 
<!--                <input class="slds-input" id="FilterLogicText" placeholder="1 And 2" type="text" onkeyup="document.getElementById('FilterLogicErrors').innerHTML=''"/> -->
<textarea id="textarea-input-01" class="slds-textarea"  placeholder="1 And 2"></textarea>
              </section>
                  </div>
                </div>
                                
                      </div>
                    </div>
                  </div>
                </div>
                <!--End-->
                  </apex:outputPanel>
            </div>
            
        </div>
        </apex:outputPanel>
</apex:form>
<div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open" id="modaldialog2" style="{!IF(checkEndPoint==false,'display:none','')}">
  <div class="slds-modal__container">
    <div class="slds-modal__header" style="border-bottom:0px;padding:0.5%;">
      <button class="slds-button slds-modal__close slds-button--icon-inverse" title="Close" onclick="window.location.replace('{!Enpoint1}');">
        <svg aria-hidden="true" class="slds-button__icon slds-button__icon--large">
<use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>        </svg>
        <span class="slds-assistive-text">Close</span>
      </button>
      <h2 id="header43" class="slds-text-heading--medium"></h2>
    </div>
    <div class="slds-modal__content slds-p-around--medium">
      <div style="font-family:'Salesforce Sans'">

Hi there. It looks like you haven't set up a remote site setting. Before you can use the app, you'll need to set one up. You can learn more about remote site settings <a href="{!helpLink}" target="blank">  here</a>.
<br/><br/>
1 - From Setup, enter Remote Site Settings in the Quick Find box and then select Remote Site Settings.<br/>
2 - Click New Remote Site.<br/>
3 - Enter the following value :<br/> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Remote Site Name : FieldFootPrintSite1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Remote Site URL :<a href="{!Enpoint1}" target="blank">{!Enpoint1}</a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Keep the Disable Protocol Security unchecked<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       - Active checkbox should be checked<br/>
4 - Click Save.<br/>
<br/>
Once you're done, go back to the Footprints tab and start using the Field Footprint application. You will no longer see this message.  


      </div>
    </div>
  </div>
  
</div>
<div class="slds-backdrop slds-backdrop--open" style="{!IF(checkEndPoint==false,'display:none','')}"></div> 
  
        <div id="modaldialog" style="display:none">
        <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: black;"></div>
        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open" >
          <div class="slds-modal__container" id="fp-modal01" >
            <apex:actionStatus id="status2" >
              <apex:facet name="start">
                  <div style="position: fixed; top: 0%; left: 0; right: 0; bottom: 0%; opacity: 0.25; z-index: 2000; background-color: white;">
                                                                        &nbsp;
                                                                    </div>
                <div style="position: fixed; left: 0; top: 30%; bottom: 0; right: 0; z-index: 2001; margin: 15% 50%">
                  <div style="display: inline-block; padding: 2px;  width: 180px;">
                    <div class="slds-spinner--medium">
                      <img src="{!URLFOR($Resource.lightningRes, '/LightningResources/SLDS202/assets/images/spinners/slds_spinner_brand.gif')}" alt="Loading..." />
                    </div>
                  </div>
                </div>
              </apex:facet>
            </apex:actionStatus>
            <div class="slds-modal__header">
                <div id="WarningPanel" style="display:none">
                    <div class="slds-notify_container">
                      <div class="slds-notify slds-notify--toast" role="alert" id="CloseWarning">
                        <span class="slds-assistive-text">Error</span>
                        <button class="slds-button slds-button--icon-inverse slds-notify__close" Onclick="document.getElementById('WarningPanel').style.display='none';">
                          <svg aria-hidden="true" class="slds-button__icon slds-button__icon--large">
                            <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>
                          </svg>
                          <span class="slds-assistive-text">Close</span>
                        </button>
                         
                        <div class="slds-notify__content slds-grid">
                          <svg aria-hidden="true" class="slds-icon slds-icon--small slds-m-right--small slds-col slds-no-flex">
                            <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#warning')}"></use>
                          </svg>
                          <div class="slds-col slds-align-middle">
                            <p id="WarningMessage" style="color: white;"></p>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                </div>
              <button class="slds-button slds-button--icon slds-modal__close" onClick="hideModal();return false;">
                <img src="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility/close_60.png')}" width="25px" />
                <span class="slds-assistive-text">Close</span>
              </button><br/>
              <h2 id="header43" class="slds-text-heading--small">Create Footprint</h2>
              <br/>
            </div>
            <div class="slds-modal__content slds-p-around--medium" >
              <div style="margin-left: 25px;margin-right: 25px;">
                <apex:outputText value="{!$Label.footprint__fp_footprintname}" styleClass="slds-form-element__label" />
                <Input id="input-Name" class="slds-input slds-show" type="text" styleclass="slds-input slds-is-required" required="true" style="box-shadow: inherit;"/>
                <p id="errorMessageName" style="color:red;"></p>
                <div class="slds-lookup" data-select="single" data-scope="single" data-typeahead="true">
                  <br/>
                  <apex:outputText value="{!$Label.footprint__fp_objectname} " styleClass="slds-form-element__label"/>
                  <div class="slds-input-has-icon slds-input-has-icon--right">
                    <svg aria-hidden="true" class="slds-input__icon slds-icon-text-default">
                      <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#search')}"></use>
                    </svg>
                    <div class="slds-pill__container slds-hide" ></div>
                    <input id="lookup-input" Onkeyup="removeerror();" Placeholder="Search Objects" class="slds-input slds-show" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="" />
                    <p id="errorMessagelookup" style="color:red;"></p>
                  </div>
                </div>
                <div class="slds-form--inline">
                  <div class="slds-form-element">
                    <apex:outputText value="Filters" styleClass="slds-form-element__label"/>
                  </div>
                 
                      <div class="slds-form-element">
                          <label class="slds-checkbox--toggle slds-grid slds-grid--vertical-align-center">
                            <input name="checkbox" type="checkbox"  onchange="showFilters(this.checked);" id="myonoffswitch"  />
                            <span class="slds-checkbox--faux" data-check-on="On" data-check-off="Off"></span>
                          </label>
                        </div>
                    <!-- <div class="slds-form-element">
                    <div class="onoffswitch">
                      <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch"  onchange="showFilters(this.checked);"/>
                      <label class="onoffswitch-label" for="myonoffswitch">
                        <span class="onoffswitch-inner"></span>
                        <span class="onoffswitch-switch"></span>
                      </label>
                    </div>
                  </div>-->
                </div>
                <apex:outputPanel id="popup">
                  <div class="slds-form--inline" style="width:100%" id="room_fileds" >
                    <div class="slds-form-element"  style="width: 28%;">
                      <label class="slds-form-element__label fp-filterFields" name="Label" for="Field">{!$Label.FP_Field}</label>
                      <br/>
                      <div class="slds-form-element__control">
                        <select name="Field" class="slds-input slds-show" id="FieldsMap" style="width: 152px; margin-right:5px" disabled="true">
                          <apex:repeat value="{!Fields_Map }" var="field">
                            <option value="{!Fields_Map[field]};;{!Fields_Map[field].describe.type}">{!Fields_Map[field].describe.Label}  ({!Fields_Map[field].describe.name})</option>
                          </apex:repeat>
                        </select>
                      </div> 
                    </div>
                    <div class="slds-form-element"  style="width: 28%; margin-right: 27px; margin-left:22px">
                      <label class="slds-form-element__label" for="Operator" name="Label">Operator</label>
                      <br/>
                      <div class="slds-form-element__control">
                        <select name="Operator" class="slds-input slds-show" style="width: 152px;" disabled="true">
                          <option value="=">Equals</option>
                          <option value="!=">Not Equal</option>
                          <option value="<">Less than
                          </option> 
                          <option value="<=">Less or equal
                          </option>
                          <option value=">">Greater than</option>
                          <option value=">=">Greater or equal</option>
                        </select>
                      </div>
                    </div>
                    <div class="slds-form-element"  style="width: 28%; margin-right: 22px;">
                      <label class="slds-form-element__label" name="Label" for="Value">{!$Label.FP_Value}</label>
                      <br/>
                      <div class="slds-form-element__control">
                        <input type="text" class="slds-input" id="ValueInput1" name="Value" style="width: 152px;" disabled="true"/>
                      </div>
                    </div>
                    <p id="errorMessagelookup1" style="color:red;"></p>
                    
                  </div>
                </apex:outputPanel>
                <section class="slds-clearfix">
                  <div class="slds-float--left">
                    <a id="more_filters" Class="slds-button" style='color:#999999' onclick="if(document.getElementById('myonoffswitch').checked) add_fields();" >Add Filter</a>
                  </div>
                  <div class="slds-float--right">
                    <a id="remove_filters" style='color:#999999' Class="slds-button" onclick="removeAllFilters();">Remove All</a>
                  </div>
                </section>
                <p id="generalError" style="color:red;"></p>
                <div id="FilterLogic"></div>
              </div>
                <!--New part-->
                      <div id="ContentPanel" style="margin-left: 25px;margin-right: 25px;">
<div class="slds-grid">
  <div class="slds-col" style="width:50%">
    <div class="slds-box--small ">
    <div>
    <span class="slds-form-element__label" style="font-size:14px">Select Field Usage Range for Analysis</span>
    </div>
<div style="font-size:14px;padding-top:5%;font-weight:bold">
<span style="margin-right:5%;font-size:16px;color:gray;cursor:pointer" id="fp-min-left">-</span><span id="fp-min-value">0%</span><span style="font-size:16px;text-decoration:none;padding-left:5%;padding-right:5%;color:blue;cursor:pointer" id="fp-max-left">+</span>to<span style="font-size:16px;text-decoration:none;padding-left:5%;padding-right:5%;color:blue;cursor:pointer" id="fp-min-right">-</span><span id="fp-max-value">100%</span><span  style="text-decoration:none;padding-left:5%;padding-right:5%;color:gray;cursor:pointer" id="fp-max-right">+</span>
</div>
    </div>
    
  </div>


  
  <div class="slds-col" style="width:50%">
      <!--If its not professional Edition--->
          <apex:outputPanel rendered="{!isNotproEdition}">
    <div class="slds-box--small  ">
            <div class="slds-form-element" style="padding-top:0%;" >            
          <div class="slds-form-element__control">
              <span class="slds-form-element__label" style="font-size:14px">Select Metadata Types (Optional) </span><br/>
              <span class="slds-form-element__label" style="font-size:12px">Adding Metadata may increase analysis time depending upon the data volume</span>
              </div>
             </div>
             <div class="slds-form-element" > 
            <div class="slds-form-element__control">  
            <label class="slds-checkbox">
              <input type="checkbox" name="options" id="checkbox-WR" /><!--Onchange="selectOption(this,'Workflow rules');return false;" -->
              <span class="slds-checkbox--faux"></span><span class="slds-form-element__label" style="font-weight:normal">Workflow Rules</span>
            </label>
            </div>
            <div class="slds-form-element__control">
            <label class="slds-checkbox">
              <input type="checkbox" name="options" id="checkbox-VR" />
              <span class="slds-checkbox--faux"></span><span class="slds-form-element__label" style="font-weight:normal">Validation Rules</span>
            </label>
            </div>
                 <div class="slds-form-element__control">  
            <label class="slds-checkbox">
              <input type="checkbox" name="options" id="checkbox-Reports" />
              <span class="slds-checkbox--faux"></span><span class="slds-form-element__label" style="font-weight:normal">Reports
                <div class="slds-popover slds-popover--tooltip slds-nubbin--bottom-left" id="tooltip3" role="tooltip" style="display:none;z-index:99;bottom:50%;left:18%;position:absolute">
                  <div class="slds-popover__body">
                 <p>The report analysis looks for references of custom fields within custom non-private reports only</p>
                  </div>
                 </div>
                
                  <span class="infoicon slds-icon_container" title="description of icon when needed" onmouseover=" document.getElementById('tooltip3').style.display='block'; " onmouseout=" document.getElementById('tooltip3').style.display='none'; ">
                  <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default">
                  <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#info')}"></use>
                  </svg>
                  <span class="slds-assistive-text">Report analysis limitations</span>
                  </span>
                
                </span>
            </label>
            </div>
            </div>
</div>  
      </apex:outputPanel>
              <!--End of elements for not pro edition-->
      
      <!--element for pro edition-->
      
    <apex:outputPanel rendered="{!!isNotproEdition}">
     <!-- <div class="slds-box--small  ">
            <div class="slds-form-element" style="padding-top:0%;" >            
          <div class="slds-form-element__control">
              <span class="slds-form-element__label" style="font-size:14px">Select Metadata Types (Optional) </span><br/>
              <span class="slds-form-element__label" style="font-size:12px">Adding Metadata may increase analysis time depending upon the data volume</span>
              </div>
             </div>
             <div class="slds-form-element" >
                 <div class="slds-form-element__control">  
            <label class="slds-checkbox">
              <input type="checkbox" name="options" id="checkbox-Reports" />
              <span class="slds-checkbox--faux"></span><span class="slds-form-element__label" style="font-weight:normal">Reports
                <div class="slds-popover slds-popover--tooltip slds-nubbin--bottom-left" id="tooltip3" role="tooltip" style="display:none;z-index:99;bottom:50%;left:18%;position:absolute">
                  <div class="slds-popover__body">
                 <p>The report analysis looks for references of custom fields within custom non-private reports only</p>
                  </div>
                 </div>
                
                  <span class="infoicon slds-icon_container" title="description of icon when needed" onmouseover=" document.getElementById('tooltip3').style.display='block'; " onmouseout=" document.getElementById('tooltip3').style.display='none'; ">
                  <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default">
                  <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#info')}"></use>
                  </svg>
                  <span class="slds-assistive-text">Report analysis limitations</span>
                  </span>
                
                </span>
            </label>
            </div>
            </div>
</div>  -->
    </apex:outputPanel>
      <!--End of elements for pro edition-->
</div>

  
</div>  
        
           <div class="slds-form-element"  >
            <div class="slds-form-element__control">
                <span class="slds-form-element__label"></span>
                    <label class="slds-checkbox--toggle slds-grid slds-grid--vertical-align-center"><span class="slds-form-element__label" style="font-weight: normal;">Email me at the end of the analysis</span>
                        <input name="checkbox" type="checkbox" id="checkbox-Email" />
                        <span class="slds-checkbox--faux" data-check-on="On" data-check-off="Off"></span>
                    </label>
            </div>
        </div>
        
        </div>
        </div>
            <div align="right" class="slds-modal__footer">
              <Button Class="slds-button slds-button--neutral" OnClick="hideModal();return false;" type="button">{!$Label.FP_Cancel}</Button>
              <Button Class="slds-button slds-button--brand" OnClick="SaveFootprint();return false;" type="submit">{!$Label.FP_Save}</Button>
              <!--if(ValidateFilters() && ValidateFilterLogic())TestQuery();-->
              <Button Class="slds-button slds-button--brand" OnClick="AnalysisOptions();return false;" type="submit">{!$Label.FP_SaveLaunch}</Button>
            </div>
          </div>
        </div>
        <div class="slds-backdrop slds-backdrop--open"></div></div>
        <!--The launche analysis Pop up-->
         <apex:outputPanel >
 <div id="AnalysisModal" style="display:none">
                    <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: black;"></div>
        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open" >

  <div class="slds-modal__container">
    <div class="slds-modal__header">
         <button class="slds-button slds-button--icon slds-modal__close" onClick="document.getElementById('AnalysisModal').style.display='none'">
                <img src="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility/close_60.png')}" width="25px" />
                <span class="slds-assistive-text">Close</span>
              </button>
      <!--<button class="slds-button slds-button--icon-inverse slds-modal__close" OnClick="document.getElementById('BlackBack').style.display='none';document.getElementById('Modal').style.display='none';">
        <svg aria-hidden="true" class="slds-button__icon slds-button__icon--large">
          <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/action-sprite/svg/symbols.svg#close')}"></use>
        </svg>
        <span class="slds-assistive-text">Close</span> 
      </button>-->
         
         <div id="LoadingModalHeader" style="display:none">
             
             <h2 id="header43" class="slds-text-heading--medium"><b>Generating Footprint</b></h2><br/><p class="slds-m-top--x-small"><span id="fp-checkStatus" ><apex:outputPanel id="fp-messageWaiting" ><span style="display:{!IF(AND(ProgressNow==Totalis,Totalis>0,analyseFinish==true),'none','')}">This may take a few minutes ...</span></apex:outputPanel></span></p>
             </div>
    </div>
      <apex:form id="form2">
    <div class="slds-modal__content slds-p-around--medium">
        

         <div id="LoadingArea" >
                <apex:actionFunction name="FillFilterPopup" action="{!FillFilterPopup}" reRender="popover" status="status3">
                   <apex:param id="FieldValue" name="FieldValue" value=""/>
                </apex:actionFunction>
                <apex:actionFunction name="launch" action="{!StartAnalysis}" reRender="form2,fpbutton">
                <apex:param id="Aobject" name="Aobjects" value=""/>
                <apex:param id="ANames" name="ANames" value=""/>
                <apex:param id="AFormulas" name="AFormulas" value=""/>
                <apex:param name="EmailMe" value="" id="EmailMe"/>
                <apex:param name="WR" value="" id="WR"/>
                <apex:param name="VR" value="" id="VR"/>
                <apex:param name="minVal" value="" id="minVal" />
                <apex:param name="maxVal" value="" id="maxVal" />
                <apex:param name="Reports" value="" id="Report"/>
             </apex:actionFunction>
             <apex:actionPoller action="{!CheckBatchstatus}" interval="5" rendered="{!Not(jobs.size==0)}" reRender="form2,fp-messageWaiting" oncomplete="checkDisplayWaiting();"/>
             <apex:outputPanel id="Table">
                          <br/>
                          <table style="width:90%;margin-left:6% ;font-family: 'Salesforce Sans',Arial,sans-serif;" >
                           <tr>
                                <td>
                                  <apex:image width="50" URL="{!if(ANd(ProgressNow==Totalis,OR(NOT(ProgressNow==0),analyseFinish==true)),URLFOR($Resource.footprint__loadingCheck),IF(NOT(logData==0),'/img/msg_icons/error32.png',URLFOR($Resource.footprint__lightningRes,'/LightningResources/SLDS202/assets/images/spinners/slds_spinner_brand.gif')))}" />
                                </td>
                                <td colspan="3">
                                    <h2 class="slds-text-heading--medium slds-truncate" style="font-family: 'Salesforce Sans','Arial',sans-serif;">
                                    Data Analysis
                                    </h2>
                                </td>
                              </tr>
                            <tr>
                              <th></th>
                              <th class="slds-text-body--small">Processed Fields</th>
                              <th class="slds-text-body--small">{!$Label.footprint__fp_errornumber}</th>
                              <th class="slds-text-body--small">{!$Label.footprint__fp_progress}</th>
                            </tr>
                              <tr>
                                <td></td>
                                <td>
                                {!ProgressNow }<!-- {!IF(Datajobssize*columnsScope>fieldsNumber,fieldsNumber,Datajobssize*columnsScope)}-->
                                </td>
                                <td><!-- {!DataErrors} --> {!logData}</td>
                                <td ><apex:outputText value="{0, number, 0%}">
                                  <apex:param value="{!IF(Totalis==0,0,IF(ProgressNow==0,0.01,ProgressNow/Totalis))}" />
                                  </apex:outputText>
                                </td>
                              </tr>
                                                       
                            <apex:repeat value="{!jobs}" var="job">
                              <apex:variable var="percentage" value="{!IF(job.TotalJobItems!=0,job.JobItemsProcessed*100/job.TotalJobItems,1)}" />
                              <tr>
                                <td>
<!--                                 <apex:image width="50" URL="{!if(job.Status=='Completed',URLFOR($Resource.loadingCheck),IF(OR(job.status='Aborted',job.status='Failed'),'/img/msg_icons/error32.png',URLFOR($Resource.lightningRes,'/LightningResources/SLDS202/assets/images/spinners/slds_spinner_brand.gif')))}" /> -->
                               <apex:outputPanel rendered="{!IF(Contains(job.ApexClass.Name,'BA001'),false,true)}">
                                  <apex:image width="50" URL="{!IF(job.Status=='Completed' && 
                                  ((Contains(job.ApexClass.Name,'BA002') && logVR==0 )
                                   || (Contains(job.ApexClass.Name,'BA004') && logWFR==0 )
                                   || (Contains(job.ApexClass.Name,'BA005') && logWFFU==0 )
                                   || (Contains(job.ApexClass.Name,'BA006') && logRepPre==0 )
                                   || (Contains(job.ApexClass.Name,'BA007') && logRepRes==0 )
                                  )
                                  ,URLFOR($Resource.loadingCheck),IF(OR(job.status="Failed",job.status="Failed",
                                  ((Contains(job.ApexClass.Name,'BA002') && logVR>0 )
                                   || (Contains(job.ApexClass.Name,'BA004') && logWFR>0 )
                                   || (Contains(job.ApexClass.Name,'BA005') && logWFFU>0 )
                                   || (Contains(job.ApexClass.Name,'BA006') && logRepPre>0 )
                                   || (Contains(job.ApexClass.Name,'BA007') && logRepRes>0 )
                                  )
                                  ),'/img/msg_icons/error32.png',URLFOR($Resource.lightningRes,'/LightningResources/SLDS202/assets/images/spinners/slds_spinner_brand.gif')))}" />
                                </apex:outputPanel>
                                </td>
                                <td colspan="3">
                                    <h2 class="slds-text-heading--medium slds-truncate" style="font-family: 'Salesforce Sans','Arial',sans-serif;">
                                    {!IF(Contains(job.ApexClass.Name,'BA001'),'','')}
                                    {!IF(Contains(job.ApexClass.Name,'BA002'),'Validation Rules Analysis','')}
                                    {!IF(Contains(job.ApexClass.Name,'BA004'),'Workflow Rules Analysis','')}
                                    {!IF(Contains(job.ApexClass.Name,'BA005'),'Workflow Field Updates Analysis','')}
                                    {!IF(Contains(job.ApexClass.Name,'BA006'),'Preparing Report Analysis','')}
                                    {!IF(Contains(job.ApexClass.Name,'BA007'),'Report Analysis','')}
                                    </h2>
                                </td>
                              </tr>
                             <tr>
                              <th></th>
                              <th class="slds-text-body--small"><apex:outputPanel rendered="{!IF(Contains(job.ApexClass.Name,'BA001'),false,true)}">{!$Label.footprint__fp_processeditems}</apex:outputPanel></th>
                              <th class="slds-text-body--small"><apex:outputPanel rendered="{!IF(Contains(job.ApexClass.Name,'BA001'),false,true)}">
                              {!$Label.footprint__fp_errornumber}
                              
                              </apex:outputPanel></th>
                              <th class="slds-text-body--small"><apex:outputPanel rendered="{!IF(Contains(job.ApexClass.Name,'BA001'),false,true)}">{!$Label.footprint__fp_progress}</apex:outputPanel></th>
                            </tr>
                            
                              <tr>
                                <td></td>
                                <td>
                                <apex:outputText rendered="{!IF(Contains(job.ApexClass.Name,'BA001'),false,true)}" value="{!job.JobItemsProcessed}">
                                </apex:outputText>
                                
                                </td>
                                <td><apex:outputPanel rendered="{!IF(Contains(job.ApexClass.Name,'BA001'),false,true)}"><!--{!job.NumberOfErrors}-->
                                  {!IF(Contains(job.ApexClass.Name,'BA001'),'','')}
                                  {!IF(Contains(job.ApexClass.Name,'BA002'),logVR,'')}
                                  {!IF(Contains(job.ApexClass.Name,'BA004'),logWFR,'')}
                                  {!IF(Contains(job.ApexClass.Name,'BA005'),logWFFU,'')}
                                  {!IF(Contains(job.ApexClass.Name,'BA006'),logRepPre,'')}
                                  {!IF(Contains(job.ApexClass.Name,'BA007'),logRepRes,'')}
                                </apex:outputPanel></td>
                                <td class="fp-status">
                                  <apex:outputText value="{0, number, 0%}" rendered="{!IF(Contains(job.ApexClass.Name,'BA001'),false,true)}">
                                    <apex:param value="{!IF(job.TotalJobItems!=0,job.JobItemsProcessed/job.TotalJobItems,0)}" />
                                  </apex:outputText>
                                </td>
                              </tr>
                              
                            </apex:repeat>
                          </table>
                        <br/>
                 
                      </apex:outputPanel>
          </div>
    </div>
                <div class="slds-modal__footer">
                        <center>
                          <apex:outputPanel id="fpbutton" rendered="{!AND(startingCheck,OR(ProgressNow==Totalis,logData>0))}">
                            <a Class="slds-button slds-button--brand" type="button" style="margin-left:80%" href="/{!currentFP.id}">{!$Label.FP_ViewFootprint}</a>
                          </apex:outputPanel>
                        </center>
                 </div>
      </apex:form>
  </div>
     </div>
</div>
            
</apex:outputPanel>
        
        <!--List View Creation Modal-->
        <div id="ListViewCreationModal" style="display:none" >
            
                    <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: rgb(22, 50, 92);"></div>
        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open" >

  <div class="slds-modal__container">
    <div class="slds-modal__header">
         <button class="slds-button slds-button--icon slds-modal__close" onClick="document.getElementById('ListViewCreationModal').style.display='none'">
                <img src="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility/close_60.png')}" width="25px" />
                <span class="slds-assistive-text">Close</span>
              </button>
         
         <div >
             
             <h2 id="header43" class="slds-text-heading--medium">New List View</h2><br/>
             </div>
    </div>
    <div class="slds-modal__content slds-p-around--medium">
        
        <div class="slds-text-body--medium slds-form--inline">
            <span style="color:red" >*</span>
        List Name 
        </div>
        <input type="text" class="slds-input" id="ListViewName"  />
        <br/><p id="ListViewNameError" style="color:red"> </p>
        <fieldset class="slds-form-element">
          <legend class="slds-form-element__legend slds-form-element__label">Who see's this list view ?</legend>
          <div class="slds-form-element__control">
            <label class="slds-radio">
              <input type="radio" name="options" checked="true"/>
              <span class="slds-radio--faux"></span>
              <span class="slds-form-element__label">Only I can see this list view</span>
            </label>
            <label class="slds-radio">
              <input type="radio" name="options" id="SharingCheckBox"/>
              <span class="slds-radio--faux"></span>
              <span class="slds-form-element__label">All users can see this list view
                <div class="slds-popover slds-popover--tooltip slds-nubbin--bottom-left" id="tooltip2" role="tooltip" style="display:none;z-index:99;bottom:50%;left:31%;position:absolute">
                  <div class="slds-popover__body">
                 <p>Including Partner and Customer Portal users</p>
                  </div>
                 </div>
                
                  <span class="infoicon slds-icon_container" title="description of icon when needed" onmouseover=" document.getElementById('tooltip2').style.display='block'; " onmouseout=" document.getElementById('tooltip2').style.display='none'; ">
                  <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default">
                  <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#info')}"></use>
                  </svg>
                  <span class="slds-assistive-text">Description of icon</span>
                  </span>
                </span>
            </label>
          </div>
        </fieldset>
        
    </div>
                <div class="slds-modal__footer " style="align:right">
                    <Button Class="slds-button slds-button--neutral" type="button" Onclick="CloseListViewCreationModal();">{!$Label.FP_Cancel}</Button>
                    <Button Class="slds-button slds-button--brand" type="button" Onclick="SaveListView();">Save</Button>
                 </div>
  </div>
     </div>
       
        </div>     
        <!--End of list View -->
        <!--List view Renaming Modal-->
        <div id="ListViewRenamingModal" style="display:none" >
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: rgb(22, 50, 92);"></div>
                <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open" >
        
          <div class="slds-modal__container">
            <div class="slds-modal__header">
                 <button class="slds-button slds-button--icon slds-modal__close" onClick="CloseListViewRenamingModal()">
                        <img src="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility/close_60.png')}" width="25px" />
                        <span class="slds-assistive-text">Close</span>
                      </button>
                 
                 <div >
                     
                     <h2 id="header43" class="slds-text-heading--medium">Rename List View</h2><br/>
                     </div>
            </div>
            <div class="slds-modal__content slds-p-around--medium">
                
                <div class="slds-text-body--medium slds-form--inline">
                    <span style="color:red" >*</span>
                List Name 
                </div>
                <input type="text" class="slds-input" id="CurrentListViewName"  />
                <br/><p id="ListViewNameError" style="color:red"> </p>
            </div>
                        <div class="slds-modal__footer " style="align:right">
                            <Button Class="slds-button slds-button--neutral" type="button" Onclick="CloseListViewRenamingModal();return false;">{!$Label.FP_Cancel}</Button>
                            <Button Class="slds-button slds-button--brand" type="button" Onclick="RenameListView(document.getElementById('CurrentListViewName').value,release);return false;">Save</Button>
                         </div>
          </div>
             </div>
               
                </div>     
        <!--List view Renaming Modal end-->
        
         <!--List view Sharing Modal-->
        <apex:outputPanel id="ListViewSharingPanel">
        <div id="ListViewSharingModal" style="display:none" >
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: rgb(22, 50, 92);"></div>
                <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open" >
        
          <div class="slds-modal__container">
            <div class="slds-modal__header">
                 <button class="slds-button slds-button--icon slds-modal__close" onClick="CloseListViewSharingModal()">
                        <img src="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility/close_60.png')}" width="25px" />
                        <span class="slds-assistive-text">Close</span>
                      </button>
                 
                 <div >
                     
                     <h2 id="header43" class="slds-text-heading--medium">Sharing settings</h2><br/>
                     </div>
            </div>
            <div class="slds-modal__content slds-p-around--medium">
            
                    <fieldset class="slds-form-element">
          <legend class="slds-form-element__legend slds-form-element__label">Who see's this list view ?</legend>
          <div class="slds-form-element__control">
            <label class="slds-radio">
              <input type="radio" name="options"  id="sharingChange1" onclick="SelectSharing(false)"/>
              <span class="slds-radio--faux"></span>
              <span class="slds-form-element__label">Only I can see this list view</span>
            </label>
            <label class="slds-radio">
              <input type="radio" name="options"  id="sharingChange2" onclick="SelectSharing(true)"/>
              <span class="slds-radio--faux"></span>
              <span class="slds-form-element__label">All users can see this list view
                <div class="slds-popover slds-popover--tooltip slds-nubbin--bottom-left" id="tooltip2" role="tooltip" style="display:none;z-index:99;bottom:50%;left:31%;position:absolute">
                  <div class="slds-popover__body">
                 <p>Including Partner and Customer Portal users</p>
                  </div>
                 </div>
                
                  <span class="infoicon slds-icon_container" title="description of icon when needed" onmouseover=" document.getElementById('tooltip2').style.display='block'; " onmouseout=" document.getElementById('tooltip2').style.display='none'; ">
                  <svg aria-hidden="true" class="slds-icon slds-icon--x-small slds-icon-text-default">
                  <use xlink:href="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility-sprite/svg/symbols.svg#info')}"></use>
                  </svg>
                  <span class="slds-assistive-text">Description of icon</span>
                  </span>
                </span>
            </label>
          </div>
                    
        </fieldset>
            </div>
                        <div class="slds-modal__footer " style="align:right">
                            <Button Class="slds-button slds-button--neutral" type="button" Onclick="CloseListViewSharingModal();return false;">{!$Label.FP_Cancel}</Button>
                            <Button Class="slds-button slds-button--brand" type="button" Onclick="ChangeSharing(document.getElementById('sharingChange2').checked);">Save</Button>
                         </div>
          </div>
             </div>
               
                </div> 
            </apex:outputPanel>
        <!--List view Sharing Modal end-->
        
        <!--List View Edit columns-->
        <div id="ListViewColumnsModal" style="display:none" >
            <apex:outputPanel id="ColumnsPanel">
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: rgb(22, 50, 92);"></div>
                <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open" >
        
          <div class="slds-modal__container">
            <div class="slds-modal__header">
                 <button class="slds-button slds-button--icon slds-modal__close" onClick="CloseListViewColumnsModal()">
                        <img src="{!URLFOR($Resource.footprintAll, '/FootprintZip/Footprint/SLDS202/assets/icons/utility/close_60.png')}" width="25px" />
                        <span class="slds-assistive-text">Close</span>
                      </button>
                 
                 <div >
                     
                     <h2 id="header43" class="slds-text-heading--medium" style="font-family: 'Salesforce Sans',Arial,sans-serif; ">Select Fields to display</h2>
                     </div>
            </div>
            <div class="slds-modal__content slds-p-around--medium">
                    <div class="row">
                        <div class="col-xs-5" style="height:80%"> <h2 class="title slds-text-heading--medium" style="font-family: 'Salesforce Sans',Arial,sans-serif;color:rgb(22, 50, 92);font-size: 12px;">Available fields</h2>
                            <select name="from[]" id="multiselect" class="form-control" size="7" style="overflow: scroll" multiple="multiple">
                                 <apex:repeat value="{!footprintFields }" var="field">
                                    <option value="{!footprintFields[field]}" style="color:rgb(22, 50, 92);font-family:'Salesforce Sans',Arial,sans-serif;font-size: 17px;">{!footprintFields[field].describe.Label}</option>
                                 </apex:repeat>
                            </select>
                        </div>
                        
                        <div class="col-xs-2" style="top:80px;">
                            <p id="multiselect_rightSelected" class="btn btn-block"><i class="glyphicon glyphicon-chevron-right"></i></p>
                            <p id="multiselect_leftSelected" class="btn btn-block"><i class="glyphicon glyphicon-chevron-left"></i></p>
                        </div>
                        
                        <div class="col-xs-5" style="height:80%"><h2 class="title slds-text-heading--medium" style="font-family: 'Salesforce Sans',Arial,sans-serif; color:rgb(22, 50, 92);font-size: 12px;">Visible fields</h2>
                           <select name="to[]" id="multiselect_to" class="form-control" style="overflow: scroll" size="7" multiple="multiple">
                           <apex:repeat value="{!currentListViewColumns}" var="field">
                                    <option value="{!footprintFields[field]}" style="color:rgb(22, 50, 92);font-family:'Salesforce Sans',Arial,sans-serif;font-size: 17px;">{!footprintFields[field].describe.Label}</option>
                                 </apex:repeat>
                            </select>
                        </div>
                    </div>
                </div>
                        <div class="slds-modal__footer " style="align:right">
                            <Button Class="slds-button slds-button--neutral" type="button" Onclick="CloseListViewColumnsModal();return false;">{!$Label.FP_Cancel}</Button>
                            <Button Class="slds-button slds-button--brand" type="button" Onclick="ChangeListViewsColumns();">Save</Button>
                         </div>
          </div>
             </div>
               </apex:outputPanel>
                </div>  
        <!--List View Edit columns end-->
                <button class="slds-button slds-button--neutral RateButton" onclick="removeAllErrors();resetRateModal();document.getElementById('MyRateModal').style.display='inline';hideFeedback();return false;">Feedback ★</button>  

    </html>
 
</apex:page>